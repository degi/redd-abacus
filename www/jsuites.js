/**
 * (c) jSuites Javascript Web Components (v3.9.3)
 *
 * Website: https://jsuites.net
 * Description: Create amazing web based applications.
 *
 * MIT License
 *
 */
(function(k,b){"object"===typeof exports&&"undefined"!==typeof module?module.exports=b():"function"===typeof define&&define.amd?define(b):k.jSuites=b()})(this,function(){var k=function(b){return{init:function(){}}};k.ajax=function(b,c){if(Array.isArray(b)){var a={instance:[],complete:c};if(0<b.length)for(var e=0;e<b.length;e++)b[e].multiple=a,a.instance.push(k.ajax(b[e]));return a}b.data||(b.data={});b.type&&(b.method=b.type);b.method||(b.method="GET");b.dataType||(b.dataType="json");if(b.data){var d=
function(p,f){var g=[],q=Object.keys(p);if(q.length)for(var w=0;w<q.length;w++){var z=f?f+"["+q[w]+"]":q[w];if("object"==typeof p[q[w]]){z=d(p[q[w]],z);for(var F=Object.keys(z),C=0;C<F.length;C++)g[F[C]]=z[F[C]]}else g[z]=p[q[w]]}return g};a=[];var h=d(b.data),l=Object.keys(h);for(e=0;e<l.length;e++)a.push(l[e]+"="+encodeURIComponent(h[l[e]]));"GET"==b.method&&0<a.length&&(0>b.url.indexOf("?")&&(b.url+="?"),b.url+=a.join("&"))}var m=new XMLHttpRequest;m.open(b.method,b.url,!0);m.setRequestHeader("X-Requested-With",
"XMLHttpRequest");"POST"==b.method?(m.setRequestHeader("Accept","application/json"),m.setRequestHeader("Content-Type","application/x-www-form-urlencoded")):"json"==b.dataType&&m.setRequestHeader("Content-Type","text/json");1!=b.cache&&(m.setRequestHeader("pragma","no-cache"),m.setRequestHeader("cache-control","no-cache"));1==b.withCredentials&&(m.withCredentials=!0);"function"==typeof b.beforeSend&&b.beforeSend(m);m.onload=function(){if(200===m.status)if("json"==b.dataType)try{var p=JSON.parse(m.responseText);
b.success&&"function"==typeof b.success&&b.success(p)}catch(g){b.error&&"function"==typeof b.error&&b.error(g,p)}else p=m.responseText,b.success&&"function"==typeof b.success&&b.success(p);else b.error&&"function"==typeof b.error&&b.error(m.responseText);k.ajax.queue&&0<k.ajax.queue.length&&k.ajax.send(k.ajax.queue.shift());if(k.ajax.requests&&k.ajax.requests.length){var f=k.ajax.requests.indexOf(m);k.ajax.requests.splice(f,1);k.ajax.requests.length||(b.complete&&"function"==typeof b.complete&&b.complete(p),
k.ajax.oncomplete&&"function"==typeof k.ajax.oncomplete[b.group]&&(k.ajax.oncomplete[b.group](),k.ajax.oncomplete[b.group]=null));b.multiple&&b.multiple.instance&&(f=b.multiple.instance.indexOf(m),b.multiple.instance.splice(f,1),b.multiple.instance.length||b.multiple.complete&&"function"==typeof b.multiple.complete&&b.multiple.complete(p))}};m.data=a;1==b.queue&&0<k.ajax.requests.length?k.ajax.queue.push(m):k.ajax.send(m);return m};k.ajax.send=function(b){b.data?b.send(b.data.join("&")):b.send();
k.ajax.requests.push(b)};k.ajax.exists=function(b,c){var a=new XMLHttpRequest;a.open("HEAD",b,!1);a.send();a.status&&c(a.status)};k.ajax.oncomplete={};k.ajax.requests=[];k.ajax.queue=[];k.alert=function(b){800>k.getWindowWidth()&&k.dialog?k.dialog.open({title:"Alert",message:b}):alert(b)};k.animation={};k.animation.slideLeft=function(b,c,a){1==c?(b.classList.add("slide-left-in"),setTimeout(function(){b.classList.remove("slide-left-in");"function"==typeof a&&a()},400)):(b.classList.add("slide-left-out"),
setTimeout(function(){b.classList.remove("slide-left-out");"function"==typeof a&&a()},400))};k.animation.slideRight=function(b,c,a){1==c?(b.classList.add("slide-right-in"),setTimeout(function(){b.classList.remove("slide-right-in");"function"==typeof a&&a()},400)):(b.classList.add("slide-right-out"),setTimeout(function(){b.classList.remove("slide-right-out");"function"==typeof a&&a()},400))};k.animation.slideTop=function(b,c,a){1==c?(b.classList.add("slide-top-in"),setTimeout(function(){b.classList.remove("slide-top-in");
"function"==typeof a&&a()},400)):(b.classList.add("slide-top-out"),setTimeout(function(){b.classList.remove("slide-top-out");"function"==typeof a&&a()},400))};k.animation.slideBottom=function(b,c,a){1==c?(b.classList.add("slide-bottom-in"),setTimeout(function(){b.classList.remove("slide-bottom-in");"function"==typeof a&&a()},400)):(b.classList.add("slide-bottom-out"),setTimeout(function(){b.classList.remove("slide-bottom-out");"function"==typeof a&&a()},100))};k.animation.fadeIn=function(b,c){b.style.display=
"";b.classList.add("fade-in");setTimeout(function(){b.classList.remove("fade-in");"function"==typeof c&&c()},2E3)};k.animation.fadeOut=function(b,c){b.classList.add("fade-out");setTimeout(function(){b.style.display="none";b.classList.remove("fade-out");"function"==typeof c&&c()},1E3)};k.calendar=function(b,c){var a={options:{}};k.calendar.current||(k.calendar.current=null);var e={type:"default",validRange:null,startingDay:null,format:"DD/MM/YYYY",readonly:!0,today:!1,time:!1,resetButton:!0,placeholder:"",
months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsFull:"January February March April May June July August September October November December".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays_short:"SMTWTFS".split(""),textDone:"Done",textReset:"Reset",textUpdate:"Update",value:null,fullscreen:!1,opened:!1,onopen:null,onclose:null,onchange:null,onupdate:null,mode:null,position:null};for(d in e)c&&c.hasOwnProperty(d)?a.options[d]=
c[d]:a.options[d]=e[d];!a.options.value&&"INPUT"==b.tagName&&b.value&&(a.options.value=b.value);a.date=null;if(a.options.value)a.date=k.calendar.toArray(a.options.value);else if(a.options.today){e=new Date;var d=e.getFullYear();var h=e.getMonth()+1,l=e.getDate(),m=e.getHours(),p=e.getMinutes();a.date=[d,h,l,m,p,0]}e=document.createElement("div");e.className="jcalendar-reset";e.innerHTML=a.options.textReset;d=document.createElement("div");d.className="jcalendar-confirm";d.innerHTML=a.options.textDone;
h=document.createElement("div");h.className="jcalendar-controls";h.style.borderBottom="1px solid #ddd";a.options.resetButton&&h.appendChild(e);h.appendChild(d);var f=document.createElement("div");f.className="jcalendar-container";var g=document.createElement("div");g.className="jcalendar-content";f.appendChild(g);if("DIV"==b.tagName){var q=b;q.classList.add("jcalendar-inline")}else g.appendChild(h),q=document.createElement("div"),q.className="jcalendar";q.appendChild(f);e=document.createElement("div");
e.className="jcalendar-table";g.appendChild(e);h=document.createElement("td");h.setAttribute("colspan","2");h.className="jcalendar-prev";var w=document.createElement("span");w.className="jcalendar-year";var z=document.createElement("span");z.className="jcalendar-month";l=document.createElement("td");l.className="jcalendar-header";l.setAttribute("colspan","3");l.appendChild(z);l.appendChild(w);m=document.createElement("td");m.setAttribute("colspan","2");m.className="jcalendar-next";d=document.createElement("tr");
d.appendChild(h);d.appendChild(l);d.appendChild(m);h=document.createElement("thead");h.appendChild(d);var F=document.createElement("tbody");d=document.createElement("tfoot");var C=document.createElement("table");C.setAttribute("cellpadding","0");C.setAttribute("cellspacing","0");C.appendChild(h);C.appendChild(F);C.appendChild(d);e.appendChild(C);var I=document.createElement("select");I.className="jcalendar-select";I.onchange=function(){a.date[3]=this.value;if("function"==typeof a.options.onupdate)a.options.onupdate(b,
a.getValue())};for(p=0;24>p;p++)e=document.createElement("option"),e.value=p,e.innerHTML=k.two(p),I.appendChild(e);var r=document.createElement("select");r.className="jcalendar-select";r.onchange=function(){a.date[4]=this.value;if("function"==typeof a.options.onupdate)a.options.onupdate(b,a.getValue())};for(p=0;60>p;p++)e=document.createElement("option"),e.value=p,e.innerHTML=k.two(p),r.appendChild(e);e=document.createElement("div");e.className="jcalendar-controls";var x=document.createElement("div");
x.className="jcalendar-time";x.style.maxWidth="140px";x.appendChild(I);x.appendChild(r);var E=document.createElement("input");E.setAttribute("type","button");E.className="jcalendar-update";E.value=a.options.textUpdate;d=document.createElement("div");d.style.flexGrow="10";d.appendChild(E);e.appendChild(x);"INPUT"==b.tagName&&e.appendChild(d);g.appendChild(e);e=document.createElement("div");e.className="jcalendar-backdrop";q.appendChild(e);var J=function(){var u=q.querySelector(".jcalendar-selected");
u&&u.classList.contains("jcalendar-disabled")?(E.setAttribute("disabled","disabled"),I.setAttribute("disabled","disabled"),r.setAttribute("disabled","disabled")):(E.removeAttribute("disabled"),I.removeAttribute("disabled"),r.removeAttribute("disabled"));if("function"==typeof a.options.onupdate)a.options.onupdate(b,a.getValue())};a.open=function(u){if(!q.classList.contains("jcalendar-focus")&&!q.classList.contains("jcalendar-inline")){a.getDays();"year-month-picker"==a.options.type&&a.getMonths();
a.options.time&&(I.value=a.date[3],r.value=a.date[4]);k.calendar.current&&k.calendar.current.close();k.calendar.current=a;q.classList.add("jcalendar-focus");if(800>k.getWindowWidth()||a.options.fullscreen)q.classList.add("jcalendar-fullsize"),k.animation.slideBottom(g,1);else{u=b.getBoundingClientRect();var A=g.getBoundingClientRect();a.options.position?(f.style.position="fixed",f.style.top=window.innerHeight<u.bottom+A.height?u.top-(A.height+2)+"px":u.top+u.height+2+"px",f.style.left=u.left+"px"):
window.innerHeight<u.bottom+A.height?f.style.bottom=1*u.height+A.height+2+"px":f.style.top="2px"}if("function"==typeof a.options.onopen)a.options.onopen(b)}};a.close=function(u,A){if(k.calendar.current){k.calendar.current=null;if(!1!==A){var G=q.querySelector(".jcalendar-selected");G="string"==typeof A?A:!G||G.classList.contains("jcalendar-disabled")?a.options.value:a.getValue();a.setValue(G)}if(!u&&"function"==typeof a.options.onclose)a.options.onclose(b);q.classList.remove("jcalendar-focus")}return a.options.value};
a.prev=function(){"years"==a.options.mode?(a.date[0]-=12,a.getYears()):"months"==a.options.mode?(a.date[0]=parseInt(a.date[0])-1,a.getMonths()):(2>a.date[1]?(--a.date[0],a.date[1]=12):--a.date[1],a.getDays())};a.next=function(){"years"==a.options.mode?(a.date[0]=parseInt(a.date[0])+12,a.getYears()):"months"==a.options.mode?(a.date[0]=parseInt(a.date[0])+1,a.getMonths()):(11<a.date[1]?(a.date[0]=parseInt(a.date[0])+1,a.date[1]=1):a.date[1]=parseInt(a.date[1])+1,a.getDays())};a.setToday=function(){var u=
(new Date).toISOString().substr(0,10);a.setValue(u);return u};a.setValue=function(u){u||(u=""+u);var A=u,G=a.options.value;if(G!=A){a.setLabel(A,a.options);var L=A.split(" ");L[1]||(L[1]="00:00:00");var K=L[1].split(":");L=L[0].split("-");u=parseInt(L[0]);var y=parseInt(L[1]);L=parseInt(L[2]);var B=parseInt(K[0]);K=parseInt(K[1]);a.date=[u,y,L,B,K,0];u=a.setLabel(A,a.options);a.options.value=A;if("function"==typeof a.options.onchange)a.options.onchange(b,A,G);if(b.value!=u&&(b.value=u,"function"==
typeof b.onchange))b.onchange({type:"change",target:b,value:b.value})}a.getDays()};a.getValue=function(){return a.date?a.options.time?k.two(a.date[0])+"-"+k.two(a.date[1])+"-"+k.two(a.date[2])+" "+k.two(a.date[3])+":"+k.two(a.date[4])+":"+k.two(0):k.two(a.date[0])+"-"+k.two(a.date[1])+"-"+k.two(a.date[2])+" "+k.two(0)+":"+k.two(0)+":"+k.two(0):""};a.update=function(u,A){if(!u.classList.contains("jcalendar-disabled")){var G=q.querySelector(".jcalendar-selected");G&&G.classList.remove("jcalendar-selected");
u.classList.add("jcalendar-selected");u.classList.contains("jcalendar-set-month")?a.date[1]=A:a.date[2]=u.innerText;a.options.time?(a.date[3]=I.value,a.date[4]=r.value):a.close()}J()};a.reset=function(){a.setValue("");a.close(!1,!1)};a.getDays=function(){a.options.mode="days";var u=new Date,A=a.date&&k.isNumeric(a.date[0])?a.date[0]:parseInt(u.getFullYear()),G=a.date&&k.isNumeric(a.date[1])?a.date[1]:parseInt(u.getMonth())+1,L=a.date&&k.isNumeric(a.date[2])?a.date[2]:parseInt(u.getDate()),K=a.date&&
k.isNumeric(a.date[3])?a.date[3]:parseInt(u.getHours()),y=a.date&&k.isNumeric(a.date[4])?a.date[4]:parseInt(u.getMinutes());a.date=[A,G,L,K,y,0];w.innerHTML=A;z.innerHTML=a.options.months[G-1];K=u.getMonth()==G-1&&u.getFullYear()==A?!0:!1;y=u.getDate();u=new Date(A,G,0,0,0);var B=u.getDate();u=new Date(A,G-1,0,0,0);u=u.getDay()+1;var n=a.options.startingDay||0;u-=n;F.innerHTML="";var t=document.createElement("tr");t.setAttribute("align","center");F.appendChild(t);for(var v=0;7>v;v++){var D=document.createElement("td");
D.classList.add("jcalendar-weekday");D.innerHTML=a.options.weekdays_short[n];t.appendChild(D);n++;6<n&&(n=0)}for(var H=n=0,M=0;6>M;M++){t=document.createElement("tr");t.setAttribute("align","center");var N=!0;for(v=0;7>v;v++){D=document.createElement("td");D.classList.add("jcalendar-set-day");if(n>=u&&n<u+B){H++;D.innerHTML=H;H==L&&D.classList.add("jcalendar-selected");K&&y==H&&(D.style.fontWeight="bold");N=k.calendar.now(new Date(A,G-1,H),!0);if(a.options.validRange){var P=!a.options.validRange[1]||
N<=a.options.validRange[1]?!0:!1;(!a.options.validRange[0]||N>=a.options.validRange[0])&&P||D.classList.add("jcalendar-disabled")}N=!1}t.appendChild(D);n++}0==N&&F.appendChild(t)}x.style.display=a.options.time?"":"none";J()};a.getMonths=function(){a.options.mode="months";var u=a.options.months,A=a.options.value,G=new Date,L=a.date&&k.isNumeric(a.date[0])?a.date[0]:parseInt(G.getFullYear());a.date&&k.isNumeric(a.date[1])||parseInt(G.getMonth());A||(A=parseInt(G.getFullYear())+"-"+k.two(parseInt(G.getMonth())+
1));A=A.substr(0,10).split("-");w.innerHTML=a.date[0];z.innerHTML="";var K=parseInt(G.getFullYear());G=parseInt(G.getMonth());var y=document.createElement("table");y.setAttribute("width","100%");for(var B=null,n=0;12>n;n++){n%4||(B=document.createElement("tr"),B.setAttribute("align","center"),y.appendChild(B));var t=document.createElement("td");t.classList.add("jcalendar-set-month");t.setAttribute("data-value",n+1);t.innerText=u[n];if(a.options.validRange){var v=L+"-"+k.two(n+1),D=!a.options.validRange[0]||
v>=a.options.validRange[0].substr(0,7)?!0:!1;v=!a.options.validRange[1]||v<=a.options.validRange[1].substr(0,7)?!0:!1;D&&v||t.classList.add("jcalendar-disabled")}L==A[0]&&n+1==A[1]&&t.classList.add("jcalendar-selected");K==L&&G==n&&(t.style.fontWeight="bold");B.appendChild(t)}F.innerHTML='<tr><td colspan="7"></td></tr>';F.children[0].children[0].appendChild(y);J()};a.getYears=function(){a.options.mode="years";var u=[];for(p=0;25>p;p++)u[p]=parseInt(a.date[0])+(p-12);var A='<td colspan="7"><table width="100%"><tr align="center">';
for(p=0;25>p;p++)0<p&&!(p%5)&&(A+='</tr><tr align="center">'),A+='<td class="jcalendar-set-year">'+u[p]+"</td>";F.innerHTML=A+"</tr></table></td>";J()};a.setLabel=function(u,A){return k.calendar.getDateString(u,A)};a.fromFormatted=function(u,A){return k.calendar.extractDateFromString(u,A)};e=function(u){var A=u.target.className;"jcalendar-prev"==A?(a.prev(),u.stopPropagation(),u.preventDefault()):"jcalendar-next"==A?(a.next(),u.stopPropagation(),u.preventDefault()):"jcalendar-month"==A?(a.getMonths(),
u.stopPropagation(),u.preventDefault()):"jcalendar-year"==A?(a.getYears(),u.stopPropagation(),u.preventDefault()):"jcalendar-set-year"==A?(a.date[0]=u.target.innerText,"year-month-picker"==a.options.type?a.getMonths():a.getDays(),u.stopPropagation(),u.preventDefault()):u.target.classList.contains("jcalendar-set-month")?("year-month-picker"==a.options.type?a.update(u.target,parseInt(u.target.getAttribute("data-value"))):a.getDays(),u.stopPropagation(),u.preventDefault()):"jcalendar-confirm"==A||"jcalendar-update"==
A?(a.close(),u.stopPropagation(),u.preventDefault()):"jcalendar-close"==A?(a.close(),u.stopPropagation(),u.preventDefault()):"jcalendar-backdrop"==A?(a.close(!1,!1),u.stopPropagation(),u.preventDefault()):"jcalendar-reset"==A?(a.reset(),u.stopPropagation(),u.preventDefault()):u.target.classList.contains("jcalendar-set-day")&&u.target.innerText&&(a.update(u.target),u.stopPropagation(),u.preventDefault())};b.addEventListener("keyup",function(u){if(u.target.value&&3<u.target.value.length){var A=k.calendar.extractDateFromString(u.target.value,
a.options.format);A&&"true"==u.target.getAttribute("data-completed")&&a.setValue(A)}});q.addEventListener("swipeleft",function(u){k.animation.slideLeft(C,0,function(){a.next();k.animation.slideRight(C,1)});u.preventDefault();u.stopPropagation()});q.addEventListener("swiperight",function(u){k.animation.slideRight(C,0,function(){a.prev();k.animation.slideLeft(C,1)});u.preventDefault();u.stopPropagation()});!0==="ontouchend"in document.documentElement?(q.addEventListener("touchend",e),b.addEventListener("touchend",
function(u){a.open()})):(q.addEventListener("mouseup",e),b.addEventListener("mouseup",function(u){a.open()}));k.calendar.hasEvents||(!0==="ontouchstart"in document.documentElement?document.addEventListener("touchstart",k.calendar.isOpen):document.addEventListener("mousedown",k.calendar.isOpen),document.addEventListener("keydown",function(u){13==u.which?k.calendar.current&&k.calendar.current.close(!1,!0):27==u.which&&k.calendar.current&&k.calendar.current.close(!1,!1)}),k.calendar.hasEvents=!0);"INPUT"==
b.tagName?(b.parentNode.insertBefore(q,b.nextSibling),b.setAttribute("autocomplete","off"),b.setAttribute("data-mask",a.options.format.toLowerCase()),a.options.readonly&&b.setAttribute("readonly","readonly"),a.options.placeholder&&b.setAttribute("placeholder",a.options.placeholder),b.classList.add("jcalendar-input"),b.value=a.setLabel(a.getValue(),a.options)):(a.getDays(),a.options.time&&(I.value=a.date[3],r.value=a.date[4]));b.change=a.setValue;b.calendar=a;1==a.options.opened&&a.open();return a};
k.calendar.prettify=function(b,c){c||(c={justNow:"Just now",xMinutesAgo:"{0}m ago",xHoursAgo:"{0}h ago",xDaysAgo:"{0}d ago",xWeeksAgo:"{0}w ago",xMonthsAgo:"{0} mon ago",xYearsAgo:"{0}y ago"});var a=parseInt((new Date-new Date(b))/1E3/60);String.prototype.format=function(e){return this.replace("{0}",e)};return 0==a?c.justNow:90>a?c.xMinutesAgo.format(a):1440>a?c.xHoursAgo.format(Math.round(a/60)):20160>a?c.xDaysAgo.format(Math.round(a/1440)):43200>a?c.xWeeksAgo.format(Math.round(a/10080)):1036800>
a?c.xMonthsAgo.format(Math.round(a/43200)):c.xYearsAgo.format(Math.round(a/525600))};k.calendar.prettifyAll=function(){for(var b=document.querySelectorAll(".prettydate"),c=0;c<b.length;c++)b[c].getAttribute("data-date")?b[c].innerHTML=k.calendar.prettify(b[c].getAttribute("data-date")):(b[c].setAttribute("data-date",b[c].innerHTML),b[c].innerHTML=k.calendar.prettify(b[c].innerHTML))};k.calendar.now=function(b,c){b||(b=new Date);var a=b.getFullYear(),e=b.getMonth()+1,d=b.getDate(),h=b.getHours(),l=
b.getMinutes(),m=b.getSeconds();return 1==c?k.two(a)+"-"+k.two(e)+"-"+k.two(d):k.two(a)+"-"+k.two(e)+"-"+k.two(d)+" "+k.two(h)+":"+k.two(l)+":"+k.two(m)};k.calendar.toArray=function(b){var c=b.split(-1!==b.indexOf("T")?"T":" "),a=c[1];c=c[0].split("-");b=parseInt(c[0]);var e=parseInt(c[1]);c=parseInt(c[2]);if(a){a=a.split(":");var d=parseInt(a[0]);a=parseInt(a[1])}else a=d=0;return[b,e,c,d,a,0]};k.calendar.extractDateFromString=function(b,c){if(0<b&&Number(b)==b){var a=new Date(Math.round(864E5*(b-
25569)));return a.getFullYear()+"-"+k.two(a.getMonth())+"-"+k.two(a.getDate())+" 00:00:00"}var e=""+b,d=c.replace(/[0-9]/g,""),h=1,l=d.search("YYYY");l=e.substr(l,4);parseInt(l)!=l&&(h=0);var m=d.search("MM");m=e.substr(m,2);if(parseInt(m)!=m||12<m)h=0;a=d.search("DD");a=e.substr(a,2);if(parseInt(a)!=a||31<a)h=0;var p=d.search("HH");if(0<=p){if(p=e.substr(p,2),!parseInt(p)||23<p)p="00"}else p="00";var f=d.search("MI");if(0<=f){if(f=e.substr(f,2),!parseInt(f)||59<f)f="00"}else f="00";var g=d.search("SS");
if(0<=g){if(g=e.substr(g,2),!parseInt(g)||59<g)g="00"}else g="00";return 1==h&&b.length==d.length?l+"-"+m+"-"+a+" "+p+":"+f+":"+g:""};k.calendar.getDateString=function(b,c){c||(c={});var a="string"==typeof c?c:c.format,e=c&&c.weekdays?c.weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d=c&&c.months?c.months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),h=c&&c.months?c.monthsFull:"January February March April May June July August September October November December".split(" ");
a||(a="DD/MM/YYYY");if(b){var l=""+b,m=-1!==l.indexOf("T")?"T":" ";l=l.split(m);var p=m="",f="";l[1]?(m=l[1].split(":"),p=m[1]?m[1]:"00",f=m[2]?m[2]:"00",m=m[0]?m[0]:"00"):f=p=m="00";l=l[0].split("-");if(l[0]&&l[1]&&l[2]&&0<l[0]&&0<l[1]&&13>l[1]&&0<l[2]&&32>l[2]){var g=new Date(l[0],l[1]-1,l[2]);l[1]=(2>l[1].length?"0":"")+l[1];l[2]=(2>l[2].length?"0":"")+l[2];m=(2>m.length?"0":"")+m;p=(2>p.length?"0":"")+p;f=(2>f.length?"0":"")+f;b=a.replace("MMM","MON");a="YYYY YYY YY Y MM DD DY DAY WD D Q HH24 HH12 HH PM AM MI SS MS MONTH MON".split(" ");
for(var q=[],w=b;w;){for(var z=0,F=0;F<a.length;F++)0==z&&0===w.toUpperCase().indexOf(a[F])&&(z=a[F].length);0==z?(q.push(w.substr(0,1)),w=w.substr(1)):(q.push(w.substr(0,z)),w=w.substr(z))}a=function(C,I,r){if(1==r)for(r=0;r<q.length;r++)q[r].toUpperCase()==C&&(q[r]=I);else for(r=0;r<q.length;r++)q[r]==C&&(q[r]=I)};a("YYYY",l[0],!0);a("YYY",l[0].substring(1,4),!0);a("YY",l[0].substring(2,4),!0);a("Y",l[0].substring(3,4),!0);a("MM",l[1],!0);a("DD",l[2],!0);a("Q",Math.floor((g.getMonth()+3)/3),!0);
m&&a("HH24",m);12<m?(a("HH12",m-12,!0),a("HH",m-12,!0),a("AM","pm",!0),a("PM","pm",!0)):(a("HH12",m,!0),a("HH",m,!0),a("AM","am",!0),a("PM","am",!0));a("MI",p,!0);a("SS",f,!0);a("MS",g.getMilliseconds(),!0);a("MONTH",h[g.getMonth()].toUpperCase());a("Month",h[g.getMonth()]);a("month",h[g.getMonth()].toLowerCase());a("MON",d[g.getMonth()].toUpperCase());a("MMM",d[g.getMonth()].toUpperCase());a("Mon",d[g.getMonth()]);a("mon",d[g.getMonth()].toLowerCase());a("DAY",e[g.getDay()].toUpperCase());a("Day",
e[g.getDay()]);a("day",e[g.getDay()].toLowerCase());a("DY",e[g.getDay()].substr(0,3).toUpperCase());a("Dy",e[g.getDay()].substr(0,3));a("dy",e[g.getDay()].substr(0,3).toLowerCase());a("D",e[g.getDay()]);a("WD",e[g.getDay()]);b=q.join("")}else b=""}return b};k.calendar.isOpen=function(b){k.calendar.current&&b.target.className&&-1==b.target.className.indexOf("jcalendar")&&k.calendar.current.close(!1,!1)};k.color=function(b,c){if(b.classList.contains("jcolor"))return b.color.setOptions(c);var a={options:{}},
e=null,d=null,h=null,l=null,m=null;a.setOptions=function(f){var g={placeholder:"",value:null,onopen:null,onclose:null,onchange:null,closeOnChange:!0,palette:null,position:null,doneLabel:"Done",resetLabel:"Reset",fullscreen:!1},q;for(q in g)f&&f.hasOwnProperty(q)?a.options[q]=f[q]:a.options[q]=g[q];l&&(l.innerHTML=a.options.resetLabel);m&&(m.innerHTML=a.options.doneLabel);a.options.palette||(a.options.palette=k.palette());a.options.value&&(b.value=a.options.value);a.options.placeholder?b.setAttribute("placeholder",
a.options.placeholder):b.getAttribute("placeholder")&&b.removeAttribute("placeholder")};a.open=function(){k.color.current&&k.color.current!=a&&k.color.current.close();if(!k.color.current){k.color.current=a;e.classList.add("jcolor-focus");var f=h.getBoundingClientRect();if(800>k.getWindowWidth()||1==a.options.fullscreen)h.style.top="",h.classList.add("jcolor-fullscreen"),k.animation.slideBottom(h,1),d.style.display="block";else{h.classList.contains("jcolor-fullscreen")&&(h.classList.remove("jcolor-fullscreen"),
d.style.display="");var g=b.getBoundingClientRect();a.options.position?(h.style.position="fixed",h.style.top=window.innerHeight<g.bottom+f.height?g.top-(f.height+2)+"px":g.top+g.height+2+"px",h.style.left=g.left+"px"):h.style.top=window.innerHeight<g.bottom+f.height?-1*(f.height+g.height+2)+"px":"2px"}e.focus();if("function"==typeof a.options.onopen)a.options.onopen(b)}};a.close=function(f){if(k.color.current){b.focus();k.color.current=null;if(!f&&"function"==typeof a.options.onclose)a.options.onclose(b);
e.classList.remove("jcolor-focus")}d.style.display="";return a.options.value};a.setValue=function(f){f||(f="");if(f!=a.options.value){a.options.value=f;var g=e.querySelector(".jcolor-selected");g&&g.classList.remove("jcolor-selected");a.values[f]&&a.values[f].classList.add("jcolor-selected");if("function"==typeof a.options.onchange)a.options.onchange(b,f);if(b.value!=a.options.value&&(b.value=a.options.value,"function"==typeof b.onchange))b.onchange({type:"change",target:b,value:b.value})}1==a.options.closeOnChange&&
a.close()};a.getValue=function(){return a.options.value};var p=!1;(function(){a.setOptions(c);"INPUT"==b.tagName&&b.classList.add("jcolor-input");e=document.createElement("div");e.className="jcolor";d=document.createElement("div");d.className="jcolor-backdrop";e.appendChild(d);h=document.createElement("div");h.className="jcolor-content";var f=document.createElement("div");f.className="jcolor-controls";h.appendChild(f);l=document.createElement("div");l.className="jcolor-reset";l.innerHTML=a.options.resetLabel;
l.onclick=function(){a.setValue("");a.close()};f.appendChild(l);m=document.createElement("div");m.className="jcolor-close";m.innerHTML=a.options.doneLabel;m.onclick=function(){a.close()};f.appendChild(m);a.values=[];f=document.createElement("table");f.setAttribute("cellpadding","7");f.setAttribute("cellspacing","0");for(var g=0;g<a.options.palette.length;g++){for(var q=document.createElement("tr"),w=0;w<a.options.palette[g].length;w++){var z=document.createElement("td"),F=a.options.palette[g][w];
7>F.length&&"#"!==F.substr(0,1)&&(F="#"+F);z.style.backgroundColor=F;z.setAttribute("data-value",F);z.innerHTML="";q.appendChild(z);a.options.value==F&&z.classList.add("jcolor-selected");a.values[F]=z}f.appendChild(q)}e.setAttribute("tabindex","900");h.appendChild(f);e.appendChild(h);"INPUT"==b.tagName?b.parentNode.insertBefore(e,b.nextSibling):b.appendChild(e);b.addEventListener("focus",function(C){k.color.current||a.open()});b.addEventListener("mouseup",function(C){k.color.current||a.open();C.preventDefault();
C.stopPropagation()});d.addEventListener("mousedown",function(C){p=!0;C.preventDefault();C.stopPropagation()});d.addEventListener("mouseup",function(C){p&&k.color.current&&(a.close(),p=!1);C.preventDefault();C.stopPropagation()});e.addEventListener("mouseup",function(C){"TD"==C.target.tagName&&(k.color.current.setValue(C.target.getAttribute("data-value")),C.preventDefault(),C.stopPropagation())});k.color.hasEvents||(document.addEventListener("mousedown",function(C){k.color.current&&(k.findElement(C.target,
"jcolor")||k.color.current.close())}),k.color.hasEvents=!0);b.change=a.setValue;b.color=a})();return a};k.contextmenu=function(b,c){function a(l){if(!l.type||"line"!=l.type&&"divisor"!=l.type){g=document.createElement("div");var m=document.createElement("a");m.innerHTML=l.title;l.tooltip&&g.setAttribute("title",l.tooltip);l.icon&&g.setAttribute("data-icon",l.icon);l.id&&(g.id=l.id);l.disabled?g.className="jcontextmenu-disabled":l.onclick&&(g.method=l.onclick,g.addEventListener("mousedown",function(q){q.preventDefault()}),
g.addEventListener("mouseup",function(){this.method(this)}));g.appendChild(m);if(l.submenu){m=document.createElement("span");m.innerHTML="&#9658;";g.appendChild(m);g.classList.add("jcontexthassubmenu");m=document.createElement("div");m.classList.add("jcontextmenu");m.setAttribute("tabindex","900");l=l.submenu;for(var p=0;p<l.length;p++){var f=a(l[p]);m.appendChild(f)}g.appendChild(m)}else l.shortcut&&(m=document.createElement("span"),m.innerHTML=l.shortcut,g.appendChild(m))}else var g=document.createElement("hr");
return g}var e={options:{}},d={items:null,onclick:null},h;for(h in d)c&&c.hasOwnProperty(h)?e.options[h]=c[h]:e.options[h]=d[h];b.classList.add("jcontextmenu");b.setAttribute("tabindex","900");e.open=function(l,m){m&&(e.options.items=m,e.create(m));if(e.options.items&&0<e.options.items.length||b.children.length){if(l.target)var p=l.clientX,f=l.clientY;else p=l.x,f=l.y;b.classList.add("jcontextmenu-focus");b.focus();var g=b.getBoundingClientRect();window.innerHeight<f+g.height?(f-=g.height,0>f&&(f=
0),b.style.top=f+"px"):b.style.top=f+"px";b.style.left=window.innerWidth<p+g.width?0<p-g.width?p-g.width+"px":"10px":p+"px"}};e.close=function(){b.classList.contains("jcontextmenu-focus")&&b.classList.remove("jcontextmenu-focus")};e.create=function(l){b.innerHTML="";for(var m=0;m<l.length;m++){var p=a(l[m]);b.appendChild(p)}};"function"==typeof e.options.onclick&&b.addEventListener("click",function(l){e.options.onclick(e,l)});e.options.items&&e.create(e.options.items);b.addEventListener("blur",function(l){e.close()});
k.contextmenu.hasEvents||(window.addEventListener("mousewheel",function(){e.close()}),document.addEventListener("contextmenu",function(l){var m=k.contextmenu.getElement(l.target);m&&((m=document.querySelector("#"+m))?(m.contextmenu.open(l),l.preventDefault()):console.error("JSUITES: Contextmenu id not found"))}),k.contextmenu.hasEvents=!0);return b.contextmenu=e};k.contextmenu.getElement=function(b){function c(e){e.parentNode&&e.getAttribute("aria-contextmenu-id")?a=e.getAttribute("aria-contextmenu-id"):
e.parentNode&&c(e.parentNode)}var a=0;c(b);return a};k.dropdown=function(b,c){var a={options:{}};if("SELECT"==b.tagName){var e=k.dropdown.extractFromDom(b,c);b=e.el;c=e.options}e={url:null,data:[],multiple:!1,autocomplete:!1,remoteSearch:!1,lazyLoading:!1,type:null,width:null,maxWidth:null,opened:!1,value:null,placeholder:"",newOptions:!1,position:!1,onchange:null,onload:null,onopen:null,onclose:null,onfocus:null,onblur:null,oninsert:null};for(var d in e)c&&c.hasOwnProperty(d)?a.options[d]=c[d]:a.options[d]=
e[d];k.dropdown.current||(k.dropdown.current=null);1==a.options.remoteSearch&&(a.options.autocomplete=!0);a.items=[];a.groups=[];a.value=[];a.search="";a.results=null;a.numOfItems=0;b.classList.add("jdropdown");"searchbar"==a.options.type?b.classList.add("jdropdown-searchbar"):"list"==a.options.type?b.classList.add("jdropdown-list"):"picker"==a.options.type?b.classList.add("jdropdown-picker"):800>k.getWindowWidth()?a.options.autocomplete?(b.classList.add("jdropdown-searchbar"),a.options.type="searchbar"):
(b.classList.add("jdropdown-picker"),a.options.type="picker"):(a.options.width&&(b.style.width=a.options.width,b.style.minWidth=a.options.width),b.classList.add("jdropdown-default"),a.options.type="default");d=document.createElement("div");d.className="jdropdown-container-header";a.header=document.createElement("input");a.header.className="jdropdown-header";a.header.setAttribute("autocomplete","off");"function"==typeof a.options.onfocus&&(a.header.onfocus=function(){a.options.onfocus(b)});"function"==
typeof a.options.onblur&&(a.header.onblur=function(){a.options.onblur(b)});1==a.options.newOptions&&a.header.classList.add("jdropdown-add");var h=document.createElement("div");h.className="jdropdown-container";var l=document.createElement("div");l.className="jdropdown-content";e=document.createElement("div");e.className="jdropdown-close";e.innerHTML="Done";var m=document.createElement("div");m.className="jdropdown-reset";m.innerHTML="x";m.onclick=function(){a.reset();a.close()};m=document.createElement("div");
m.className="jdropdown-backdrop";if(1==a.options.autocomplete){b.setAttribute("data-autocomplete",!0);var p=null;a.header.addEventListener("keyup",function(f){p||(a.search!=a.header.value.trim()&&(p=setTimeout(function(){a.find(a.header.value.trim());p=null},400)),b.classList.contains("jdropdown-focus")||a.open())})}else a.header.setAttribute("readonly","readonly");!a.options.placeholder&&b.getAttribute("placeholder")&&(a.options.placeholder=b.getAttribute("placeholder"));a.options.placeholder&&a.header.setAttribute("placeholder",
a.options.placeholder);d.appendChild(a.header);"searchbar"==a.options.type?d.appendChild(e):h.appendChild(e);h.appendChild(l);b.appendChild(d);b.appendChild(h);b.appendChild(m);a.init=function(){if(a.options.url&&!a.options.data.length)k.ajax({url:a.options.url,method:"GET",dataType:"json",success:function(q){if(q&&(a.setData(q),null!=a.options.value&&a.setValue(a.options.value,!0),"function"==typeof a.options.onload))a.options.onload(b,a,q)}});else{var f=[];if(a.options.data.length)for(var g=0;g<
a.options.data.length;g++)f.push(a.options.data[g]);a.setData(f);null!=a.options.value&&a.setValue(a.options.value,!0);if("function"==typeof a.options.onload)a.options.onload(b,a,a.options.data)}1==a.options.opened&&a.open()};a.getUrl=function(){return a.options.url};a.setUrl=function(f){a.options.url=f;k.ajax({url:a.options.url,method:"GET",dataType:"json",success:function(g){a.setData(g)}})};a.add=function(f){if(!f&&(f=prompt("Text",1==a.options.autocomplete?a.header.value:""),!f))return!1;f={value:k.guid(),
text:f};a.options.data.push(f);var g=a.createItem(f);l.appendChild(g.element);if("function"==typeof a.options.oninsert)a.options.oninsert(a,g,f);"none"==l.style.display&&(l.style.display="");return f};a.createItem=function(f,g,q){"undefined"==typeof f.text&&f.name&&(f.text=f.name);"undefined"==typeof f.value&&f.id&&(f.value=f.id);var w={};w.element=document.createElement("div");w.element.className="jdropdown-item";w.element.indexValue=a.items.length;w.value=f.value;w.text=f.text;f.id&&w.element.setAttribute("id",
f.id);g&&(w.group=g,w.groupName=q);f.image?(g=document.createElement("img"),g.className="jdropdown-image",g.src=f.image,f.title||g.classList.add("jdropdown-image-small"),w.element.appendChild(g)):f.color&&(g=document.createElement("div"),g.className="jdropdown-color",g.style.backgroundColor=f.color,w.element.appendChild(g));g=document.createElement("div");g.className="jdropdown-description";f.text?g.innerText=f.text:g.innerHTML="&nbsp;";f.title&&(q=document.createElement("div"),q.className="jdropdown-title",
q.innerText=f.title,g.appendChild(q),w.title=f.title);a.value&&a.value[f.value]&&(w.element.classList.add("jdropdown-selected"),w.selected=!0);a.items.push(w);w.element.appendChild(g);return w};a.appendData=function(f){if(f.length){a.numOfItems=0;for(var g=[],q=[],w=0;w<f.length;w++)f[w].group?(q[f[w].group]||(q[f[w].group]=[]),q[f[w].group].push(w)):g.push(w);var z=Object.keys(q);if(0<z.length)for(w=0;w<z.length;w++){var F=document.createElement("div");F.className="jdropdown-group";var C=document.createElement("div");
C.className="jdropdown-group-name";C.innerHTML=z[w];var I=document.createElement("i");I.className="jdropdown-group-arrow jdropdown-group-arrow-down";C.appendChild(I);I=document.createElement("div");I.className="jdropdown-group-items";for(var r=0;r<q[z[w]].length;r++){var x=a.createItem(f[q[z[w]][r]],F,z[w]);if(0==a.options.lazyLoading||200>a.numOfItems)I.appendChild(x.element),a.numOfItems++}F.appendChild(C);F.appendChild(I);a.groups.push(F);0<I.children.length&&l.appendChild(F)}if(g.length)for(w=
0;w<g.length;w++)if(x=a.createItem(f[g[w]]),0==a.options.lazyLoading||200>a.numOfItems)l.appendChild(x.element),a.numOfItems++}};a.setData=function(f){if(f.length){for(var g=0;g<f.length;g++)"object"!=typeof f[g]&&(f[g]={value:f[g],text:f[g]});l.innerHTML="";a.reset();a.items=[];a.appendData(f)}a.options.data=f};a.getPosition=function(f){for(var g=0;g<a.items.length;g++)if(a.items[g].value==f)return g;return 0};a.getText=function(f){for(var g=[],q=Object.keys(a.value),w=0;w<q.length;w++)g.push(a.value[q[w]]);
return f?g:g.join("; ")};a.getValue=function(f){return f?Object.keys(a.value):Object.keys(a.value).join(";")};a.setValue=function(f,g){for(var q=function(C,I){a.items[C].value==I&&(a.items[C].element&&a.items[C].element.classList.add("jdropdown-selected"),a.items[C].selected=!0,a.value[I]=a.items[C].text)},w=a.getValue(),z=0;z<a.items.length;z++)1==a.items[z].selected&&(a.items[z].element&&a.items[z].element.classList.remove("jdropdown-selected"),a.items[z].selected=null);a.value=[];if(null!==f)if(Array.isArray(f))for(z=
0;z<a.items.length;z++)for(var F=0;F<f.length;F++)q(z,f[F]);else for(z=0;z<a.items.length;z++)q(z,f);q=a.getValue();if(w!=q){b.classList.contains("jdropdown-focus")||(a.header.value=a.getText());a.options.value=a.getValue();if(!0!==g&&"function"==typeof a.options.onchange)a.options.onchange(b,null,w,a.options.value);if(b.value!=a.options.value&&(b.value=a.options.value,"function"==typeof b.onchange))b.onchange({type:"change",target:b,value:b.value})}};a.resetSelected=function(){a.setValue(null)};
a.selectIndex=function(f){f=parseInt(f);if(a.items&&a.items[f])if(a.getValue(),a.setCursor(f,!1),a.options.multiple){var g=Object.keys(a.value);a.items[f].selected?(a.items[f].element.classList.remove("jdropdown-selected"),a.items[f].selected=!1,f=g.indexOf(""+a.items[f].value),-1!=f&&g.splice(f,1)):(a.items[f].element.classList.add("jdropdown-selected"),a.items[f].selected=!0,g.push(a.items[f].value));a.setValue(g)}else a.value[a.items[f].value]?a.setValue(null):a.setValue(a.items[f].value),a.close()};
a.selectItem=function(f){k.dropdown.current&&a.selectIndex(f.indexValue)};a.find=function(f){if(a.search==f.trim())return!1;a.search=f;a.numOfItems=0;if(1==a.options.remoteSearch)a.currentIndex=null,a.results=null,k.ajax({url:a.options.url+"?q="+f,method:"GET",dataType:"json",success:function(F){a.items=[];l.innerHTML="";a.appendData(F);l.style.display=F.length?"":"none"}});else{f=new RegExp(f,"gi");a.results=[];for(var g=0;g<a.items.length;g++){var q=a.items[g].text,w=a.items[g].title||"",z=a.items[g].groupName||
"";if(null==f||void 0!=a.value[a.items[g].value]||q.match(f)||w.match(f)||z.match(f))if(a.results.push(a.items[g]),a.items[g].group&&a.items[g].group.children[1].children[0])for(;a.items[g].group.children[1].children[0];)a.items[g].group.children[1].removeChild(a.items[g].group.children[1].children[0])}for(;l.children[0];)l.removeChild(l.children[0]);f=a.results.length||0;1==a.options.lazyLoading&&200<f&&(f=200);for(g=0;g<f;g++)a.results[g].group?(a.results[g].group.parentNode||l.appendChild(a.results[g].group),
a.results[g].group.children[1].appendChild(a.results[g].element)):l.appendChild(a.results[g].element),a.numOfItems++;l.style.display=a.results.length?"":"none"}};a.open=function(){k.dropdown.current!=b&&(k.dropdown.current&&k.dropdown.current.dropdown.close(),k.dropdown.current=b);if(!b.classList.contains("jdropdown-focus")){b.classList.add("jdropdown-focus");800>k.getWindowWidth()&&(null==a.options.type||"picker"==a.options.type)&&k.animation.slideBottom(h,1);1==a.options.autocomplete&&(a.header.value=
a.search,a.header.focus());var f=Object.keys(a.value);f[0]&&(f=a.getPosition(f[0]))&&a.setCursor(f);if(!a.options.type||"default"==a.options.type){f=b.getBoundingClientRect();var g=h.getBoundingClientRect();a.options.position?(h.style.position="fixed",window.innerHeight<f.bottom+g.height?(h.style.top="",h.style.bottom=window.innerHeight-f.top+1+"px"):(h.style.top=f.bottom+"px",h.style.bottom=""),h.style.left=f.left+"px"):window.innerHeight<f.bottom+g.height?(h.style.top="",h.style.bottom=f.height+
1+"px"):(h.style.top="",h.style.bottom="");h.style.minWidth=f.width+"px";a.options.maxWidth&&(h.style.maxWidth=a.options.maxWidth);l.style.display=a.items.length||1!=a.options.autocomplete?"":"none"}}if("function"==typeof a.options.onopen)a.options.onopen(b)};a.close=function(f){if(k.dropdown.current){k.dropdown.current=null;a.setCursor();a.header.value=a.getText();if(!f&&"function"==typeof a.options.onclose)a.options.onclose(b);a.header.blur&&a.header.blur();b.classList.remove("jdropdown-focus")}return a.getValue()};
a.setCursor=function(f,g){null!=a.currentIndex&&a.items&&a.items[a.currentIndex]&&a.items[a.currentIndex].element.classList.remove("jdropdown-cursor");if(void 0==f)a.currentIndex=null;else if(parseInt(f),a.items[f].element.classList.add("jdropdown-cursor"),a.currentIndex=f,!1!==g&&a.items[a.currentIndex].element){var q=a.items[a.currentIndex].element;l.scrollTop=q.offsetTop-q.scrollTop+q.clientTop-95}};a.resetCursor=a.setCursor;a.updateCursor=a.setCursor;a.reset=function(){a.setCursor();a.setValue(null)};
a.firstVisible=function(){for(var f=null,g=0;g<a.items.length;g++)if(a.items&&a.items[g]&&a.items[g].element.parentNode&&"none"!=a.items[g].element.style.display){f=g;break}if(null==f)return!1;a.setCursor(f)};a.first=function(){for(var f=null,g=a.currentIndex-1;0<=g;g--)a.items&&a.items[g]&&a.items[g].element.parentNode&&"none"!=a.items[g].element.style.display&&(f=g);if(null==f)return!1;a.setCursor(f)};a.last=function(){for(var f=null,g=a.currentIndex+1;g<a.items.length;g++)a.items&&a.items[g]&&
a.items[g].element.parentNode&&"none"!=a.items[g].element.style.display&&(f=g);if(null==f)return!1;a.setCursor(f)};a.next=function(){for(var f=null,g=a.currentIndex+1;g<a.items.length;g++)if(a.items&&a.items[g]&&a.items[g].element.parentNode){f=g;break}if(null==f)return!1;a.setCursor(f)};a.prev=function(){for(var f=null,g=a.currentIndex-1;0<=g;g--)if(a.items&&a.items[g]&&a.items[g].element.parentNode){f=g;break}if(null==f)return!1;a.setCursor(f)};a.loadUp=function(){return!1};a.loadDown=function(){var f=
!1,g=a.results?a.results:a.items;if(g.length>a.numOfItems){f=a.numOfItems;var q=g.length-f;200<q&&(q=200);for(var w=f;w<f+q;w++)g[w].group?(g[w].group.parentNode||l.appendChild(g[w].group),g[w].group.children[2].appendChild(g[w].element)):l.appendChild(g[w].element),a.numOfItems++;f=!0}return f};k.dropdown.hasEvents||(!0==="ontouchsend"in document.documentElement?document.addEventListener("touchsend",k.dropdown.mouseup):document.addEventListener("mouseup",k.dropdown.mouseup),document.addEventListener("keydown",
k.dropdown.onkeydown),k.dropdown.hasEvents=!0);1==a.options.lazyLoading&&k.lazyLoading(l,{loadUp:a.loadUp,loadDown:a.loadDown});a.init();b.change=a.setValue;return b.dropdown=a};k.dropdown.hasEvents=!1;k.dropdown.mouseup=function(b){var c=k.findElement(b.target,"jdropdown");if(c){var a=c.dropdown;if(b.target.classList.contains("jdropdown-header"))c.classList.contains("jdropdown-focus")&&c.classList.contains("jdropdown-default")?(c=c.getBoundingClientRect(),30>c.width-((b.changedTouches&&b.changedTouches[0]?
b.changedTouches[0].clientX:b.clientX)-c.left)?b.target.classList.contains("jdropdown-add")?a.add():a.close():0==a.options.autocomplete&&a.close()):a.open();else if(b.target.classList.contains("jdropdown-group-name")){if(c=b.target.nextSibling.children,"none"!=b.target.nextSibling.style.display)for(var e=0;e<c.length;e++)"none"!=c[e].style.display&&a.selectItem(c[e])}else b.target.classList.contains("jdropdown-group-arrow")?b.target.classList.contains("jdropdown-group-arrow-down")?(b.target.classList.remove("jdropdown-group-arrow-down"),
b.target.classList.add("jdropdown-group-arrow-up"),b.target.parentNode.nextSibling.style.display="none"):(b.target.classList.remove("jdropdown-group-arrow-up"),b.target.classList.add("jdropdown-group-arrow-down"),b.target.parentNode.nextSibling.style.display=""):b.target.classList.contains("jdropdown-item")?a.selectItem(b.target):b.target.classList.contains("jdropdown-image")?a.selectItem(b.target.parentNode):b.target.classList.contains("jdropdown-description")?a.selectItem(b.target.parentNode):b.target.classList.contains("jdropdown-title")?
a.selectItem(b.target.parentNode.parentNode):(b.target.classList.contains("jdropdown-close")||b.target.classList.contains("jdropdown-backdrop"))&&a.close();b.stopPropagation();b.preventDefault()}else k.dropdown.current&&k.dropdown.current.dropdown.close()};k.dropdown.onkeydown=function(b){if(k.dropdown.current){var c=k.dropdown.current.dropdown,a=c.currentIndex;b.shiftKey||13!=b.which&&27!=b.which&&35!=b.which&&36!=b.which&&38!=b.which&&40!=b.which||(13==b.which?c.selectIndex(a):38==b.which?null==
a?c.firstVisible():0<a&&c.prev():40==b.which?null==a?c.firstVisible():a+1<c.items.length&&c.next():36==b.which?c.first():35==b.which?c.last():27==b.which&&c.close(),b.stopPropagation(),b.preventDefault())}};k.dropdown.extractFromDom=function(b,c){c||(c={});!b.getAttribute("multiple")||c&&void 0!=c.multiple||(c.multiple=!0);!b.getAttribute("placeholder")||c&&void 0!=c.placeholder||(c.placeholder=b.getAttribute("placeholder"));!b.getAttribute("data-autocomplete")||c&&void 0!=c.autocomplete||(c.autocomplete=
!0);c&&void 0!=c.width||(c.width=b.offsetWidth);!b.value||c&&void 0!=c.value||(c.value=b.value);if(!c||void 0==c.data){c.data=[];for(var a=0;a<b.children.length;a++)if("OPTGROUP"==b.children[a].tagName)for(var e=0;e<b.children[a].children.length;e++)c.data.push({value:b.children[a].children[e].value,text:b.children[a].children[e].innerHTML,group:b.children[a].getAttribute("label")});else c.data.push({value:b.children[a].value,text:b.children[a].innerHTML})}c&&void 0!=c.onchange||(c.onchange=function(d,
h,l,m){1==c.multiple?obj.items[h].classList.contains("jdropdown-selected")?b.options[h].setAttribute("selected","selected"):b.options[h].removeAttribute("selected"):b.value=m});a=document.createElement("div");b.parentNode.insertBefore(a,b);b.style.display="none";return{el:a,options:c}};k.editor=function(b,c){var a={options:{}};if("TEXTAREA"==b.tagName||"INPUT"==b.tagName){var e=b;e.style.display="none";b=document.createElement("div");c.value||(c.value=e.value);c.onblur=function(n,t,v){e.value=t.getData()};
e.insertBefore(b)}var d={value:null,snippet:null,toolbar:null,remoteParser:null,placeholder:null,parseURL:!1,filterPaste:!0,dropZone:!1,dropAsAttachment:!1,acceptImages:!1,acceptFiles:!1,maxFileSize:5E6,allowImageResize:!0,border:!0,padding:!0,maxHeight:null,height:null,focus:!1,onclick:null,onfocus:null,onblur:null,onload:null,onkeyup:null,onkeydown:null,onchange:null},h;for(h in d)c&&c.hasOwnProperty(h)?a.options[h]=c[h]:a.options[h]=d[h];var l=null,m=null;b.innerHTML="";"function"==typeof a.options.onclick&&
(b.onclick=function(n){a.options.onclick(b,a,n)});b.classList.add("jeditor-container");1==a.options.padding&&b.classList.add("jeditor-padding");a.options.placeholder&&b.setAttribute("data-placeholder",a.options.placeholder);0==a.options.border&&(b.style.border="0px");var p=document.createElement("div");p.className="jsnippet";p.setAttribute("contenteditable",!1);var f=document.createElement("div");f.className="jeditor-toolbar";var g=document.createElement("div");g.setAttribute("contenteditable",!0);
g.setAttribute("spellcheck",!1);g.className="jeditor";if(a.options.maxHeight||a.options.height)g.style.overflowY="auto",a.options.maxHeight&&(g.style.maxHeight=a.options.maxHeight),a.options.height&&(g.style.height=a.options.height);(d=a.options.value?a.options.value:b.innerHTML?b.innerHTML:"")||(d="<br>");var q=function(n){if("function"==typeof a.options.onchange)a.options.onchange(b,a,n);a.options.value=a.getData();if(b.value!=a.options.value&&(b.value=a.options.value,"function"==typeof b.onchange))b.onchange({type:"change",
target:b,value:b.value})},w=function(n){var t=document.createElement("div");t.innerHTML=n;n=t.querySelectorAll("img");if(n.length)for(t=0;t<n.length;t++)a.addImage(n[t].src)},z=function(n){if(window.getSelection){var t=window.getSelection();if(t.rangeCount){var v=t.getRangeAt(0);v.deleteContents();v.insertNode(n);v.setStartAfter(n);v.setEndAfter(n);t.removeAllRanges();t.addRange(v)}}},F=function(n){p.innerHTML="";if(n.image){var t=document.createElement("div");t.className="jsnippet-image";t.setAttribute("data-k",
"image");p.appendChild(t);var v=document.createElement("img");v.src=n.image;t.appendChild(v)}t=document.createElement("div");t.className="jsnippet-title";t.setAttribute("data-k","title");t.innerHTML=n.title;p.appendChild(t);t=document.createElement("div");t.className="jsnippet-description";t.setAttribute("data-k","description");t.innerHTML=n.description;p.appendChild(t);t=document.createElement("div");t.className="jsnippet-host";t.setAttribute("data-k","host");t.innerHTML=n.host;p.appendChild(t);
t=document.createElement("div");t.className="jsnippet-url";t.setAttribute("data-k","url");t.innerHTML=n.url;p.appendChild(t);g.appendChild(p)},C=function(){clearTimeout(l);l=setTimeout(function(){var n=g.querySelector(".jsnippet"),t=b.querySelector(".jeditor-thumbs-container");!n&&!t&&(t=g.innerHTML.replace(/\n/g," "),n=document.createElement("div"),n.innerHTML=t,(t=n.querySelector(".jeditor-thumbs-container"))&&t.remove(),t=k.editor.detectUrl(n.innerText))&&("jpg"==t[0].substr(-3)||"png"==t[0].substr(-3)||
"gif"==t[0].substr(-3)?k.editor.getDomain(t[0])==window.location.hostname?a.importImage(t[0],""):a.importImage(a.options.remoteParser+t[0],""):(n=k.editor.youtubeParser(t[0]),a.parseWebsite(t[0],n)))},1E3)};a.parseContent=function(){C()};a.parseWebsite=function(n,t){if(a.options.remoteParser){t&&(n="https://www.youtube.com/watch?v="+t);var v={title:"",description:"",image:"",host:n.split("/")[2],url:n};k.ajax({url:a.options.remoteParser+encodeURI(n.trim()),method:"GET",dataType:"json",success:function(D){D.title&&
(v.title=D.title);D.description&&(v.description=D.description);D.image?v.image=D.image:D["og:image"]&&(v.image=D["og:image"]);D.host&&(v.host=D.host);D.url&&(v.url=D.url);F(v)}})}else console.log("The remoteParser is not defined")};a.setData=function(n){g.innerHTML=n;k.editor.setCursor(g,!0)};a.getText=function(){return g.innerText};a.getData=function(n){if(n){n={content:""};var t=g.querySelectorAll(".post-tag");if(t.length){n.users=[];for(var v=0;v<t.length;v++){var D=t[v].getAttribute("data-user");
D&&n.users.push(D)}n.users=n.users.join(",")}if(p.innerHTML){n.snippet={};for(v=0;v<p.children.length;v++)if(t=p.children[v].getAttribute("data-k"))"image"==t?n.snippet.image=p.children[v].children[0].getAttribute("src"):n.snippet[t]=p.children[v].innerHTML;p.innerHTML="";p.remove()}v=g.innerHTML;v=v.replace(/<br>/g,"\n");v=v.replace(/<\/div>/g,"</div>\n");v=v.replace(/<(?:.|\n)*?>/gm,"");n.content=v.trim();n=JSON.stringify(n)}else n=g.innerHTML;return n};a.reset=function(){g.innerHTML=""};a.addPdf=
function(n){if("data"!=n.result.substr(0,4))console.error("Invalid source");else{var t=document.createElement("canvas");t.width=60;t.height=60;var v=new Image;t.getContext("2d").drawImage(v,0,0,t.width,t.height);t.toBlob(function(D){var H=document.createElement("img");H.src=window.URL.createObjectURL(D);H.setAttribute("data-extension","pdf");n.name&&H.setAttribute("data-name",n.name);n.size&&H.setAttribute("data-size",n.size);n.date&&H.setAttribute("data-date",n.date);H.className="jfile pdf";z(H);
H.content=n.result.substr(n.result.indexOf(",")+1)})}};a.getFiles=function(){return k.files(g).get()};a.addImage=function(n,t,v,D){if("data"==n.substr(0,4)||a.options.remoteParser){if("data"==n.substr(0,4)){var H=n.split(";");H=H[0].split("/");H=H[1]}else H=n.substr(n.lastIndexOf(".")+1),n=a.options.remoteParser+n;var M=new Image;M.onload=function(){var N=document.createElement("canvas");N.width=M.width;N.height=M.height;N.getContext("2d").drawImage(M,0,0,N.width,N.height);N.toBlob(function(P){var O=
document.createElement("img");O.src=window.URL.createObjectURL(P);O.setAttribute("tabindex","900");O.setAttribute("data-extension",H);t&&O.setAttribute("data-name",t);v&&O.setAttribute("data-size",v);D&&O.setAttribute("data-date",D);O.className="jfile";P=N.toDataURL();z(O);O.content=P.substr(P.indexOf(",")+1);q()})};M.src=n}else console.error("remoteParser not defined in your initialization")};a.addFile=function(n){for(var t=[],v=0;v<n.length;v++)if(n[v].size>a.options.maxFileSize)alert("The file is too big");
else{var D=n[v].type.split("/");(D="image"==D[0]?1:"pdf"==D[1]?2:0)?(t[v]=new FileReader,t[v].index=v,t[v].type=D,t[v].name=n[v].name,t[v].date=n[v].lastModified,t[v].size=n[v].size,t[v].addEventListener("load",function(H){2==H.target.type?1==a.options.acceptFiles&&a.addPdf(H.target):a.addImage(H.target.result,H.target.name,H.total,H.target.lastModified)},!1),t[v].readAsDataURL(n[v])):alert("The extension is not allowed")}};a.destroy=function(){g.removeEventListener("mouseup",I);g.removeEventListener("mousedown",
r);g.removeEventListener("mousemove",x);g.removeEventListener("keyup",E);g.removeEventListener("keydown",J);g.removeEventListener("dragstart",A);g.removeEventListener("dragenter",G);g.removeEventListener("dragover",L);g.removeEventListener("drop",K);g.removeEventListener("paste",u);"function"==typeof a.options.onblur&&g.removeEventListener("blur",y);"function"==typeof a.options.onfocus&&g.removeEventListener("focus",B);b.editor=null;b.classList.remove("jeditor-container");f.remove();p.remove();g.remove()};
var I=function(n){m=!1},r=function(n){var t=function(D){var H=D.getBoundingClientRect();40>H.width-(n.clientX-H.left)&&40>n.clientY-H.top&&(D.innerHTML="",D.remove())};if("IMG"==n.target.tagName)if(n.target.style.cursor){if(t=n.target.getBoundingClientRect(),m={e:n.target,x:n.clientX,y:n.clientY,w:t.width,h:t.height,d:n.target.style.cursor},n.target.style.width||(n.target.style.width=t.width+"px"),n.target.style.height||(n.target.style.height=t.height+"px"),t=window.getSelection(),t.rangeCount)for(var v=
0;v<t.rangeCount;v++)t.removeRange(t.getRangeAt(v))}else m=!0;else n.target.classList.contains("jsnippet")?t(n.target):n.target.parentNode.classList.contains("jsnippet")&&t(n.target.parentNode),m=!0},x=function(n){if("IMG"==n.target.tagName&&1==a.options.allowImageResize&&n.target.getAttribute("tabindex")){var t=n.target.getBoundingClientRect();n.target.style.cursor=5>n.clientY-t.top?5>t.width-(n.clientX-t.left)?"ne-resize":5>n.clientX-t.left?"nw-resize":"n-resize":5>t.height-(n.clientY-t.top)?5>
t.width-(n.clientX-t.left)?"se-resize":5>n.clientX-t.left?"sw-resize":"s-resize":5>t.width-(n.clientX-t.left)?"e-resize":5>n.clientX-t.left?"w-resize":""}if(1==n.which&&m&&m.d){if("e-resize"==m.d||"ne-resize"==m.d||"se-resize"==m.d)if(m.e.style.width=m.w+(n.clientX-m.x)+"px",n.shiftKey){var v=m.h/m.w*(n.clientX-m.x);m.e.style.height=m.h+v+"px"}else v=null;v||"s-resize"!=m.d&&"se-resize"!=m.d&&"sw-resize"!=m.d||n.shiftKey||(m.e.style.height=m.h+(n.clientY-m.y)+"px")}},E=function(n){g.innerHTML||(g.innerHTML=
"<div><br></div>");if("function"==typeof a.options.onkeyup)a.options.onkeyup(b,a,n)},J=function(n){1==a.options.parseURL&&C();if("function"==typeof a.options.onkeydown)a.options.onkeydown(b,a,n)},u=function(n){if(1==a.options.filterPaste){if(n.clipboardData||n.originalEvent.clipboardData)var t=(n.originalEvent||n).clipboardData.getData("text/html"),v=(n.originalEvent||n).clipboardData.getData("text/plain"),D=(n.originalEvent||n).clipboardData.files;else window.clipboardData&&(t=window.clipboardData.getData("Html"),
v=window.clipboardData.getData("Text"),D=window.clipboardData.files);if(D.length)a.addFile(D);else{v=v.split("\r\n");if("DIV"==n.target.nodeName&&n.target.classList.contains("jeditor"))for(D=0;D<v.length;D++){var H=document.createElement("div");v[D]?H.innerText=v[D]:H.innerHTML="<br/>";n.target.appendChild(H)}else{H=document.createElement("div");for(D=0;D<v.length;D++)if(v[D]){var M=document.createElement("div");M.innerText=v[D];H.appendChild(M)}document.execCommand("insertHtml",!1,H.innerHTML)}1==
a.options.acceptImages&&w(t)}n.preventDefault()}},A=function(n){m&&m.e&&n.preventDefault()},G=function(n){m||0==a.options.dropZone||b.classList.add("jeditor-dragging")},L=function(n){m||0==a.options.dropZone||(l&&clearTimeout(l),l=setTimeout(function(){b.classList.remove("jeditor-dragging")},100))},K=function(n){if(!m&&0!=a.options.dropZone){var t=null;document.caretRangeFromPoint?t=document.caretRangeFromPoint(n.clientX,n.clientY):n.rangeParent&&(t=document.createRange(),t.setStart(n.rangeParent,
n.rangeOffset));var v=window.getSelection();v.removeAllRanges();v.addRange(t);v.anchorNode.parentNode.focus();t=(n.originalEvent||n).dataTransfer.getData("text/html");v=(n.originalEvent||n).dataTransfer.getData("text/plain");var D=(n.originalEvent||n).dataTransfer.files;D.length?a.addFile(D):v&&w(t);b.classList.remove("jeditor-dragging");n.preventDefault()}},y=function(n){if("function"==typeof a.options.onblur)a.options.onblur(b,a,n);q(n)},B=function(n){if("function"==typeof a.options.onfocus)a.options.onfocus(b,
a,n)};g.addEventListener("mouseup",I);g.addEventListener("mousedown",r);g.addEventListener("mousemove",x);g.addEventListener("keyup",E);g.addEventListener("keydown",J);g.addEventListener("dragstart",A);g.addEventListener("dragenter",G);g.addEventListener("dragover",L);g.addEventListener("drop",K);g.addEventListener("paste",u);g.addEventListener("focus",B);g.addEventListener("blur",y);if("function"==typeof a.options.onload)a.options.onload(b,a,g);g.innerHTML=d;b.appendChild(g);a.options.snippet&&F(a.options.snippet);
null==a.options.toolbar&&(a.options.toolbar=k.editor.getDefaultToolbar());a.options.toolbar&&(k.toolbar(f,{container:!0,items:a.options.toolbar}),b.appendChild(f));a.options.focus&&k.editor.setCursor(g,"initial"==a.options.focus?!0:!1);b.change=a.setData;return b.editor=a};k.editor.setCursor=function(b,c){b.focus();document.execCommand("selectAll");var a=window.getSelection(),e=a.getRangeAt(0);if(1==c)var d=e.startContainer,h=0;else d=e.endContainer,h=d.length;e.setStart(d,h);e.setEnd(d,h);a.removeAllRanges();
a.addRange(e)};k.editor.getDomain=function(b){return b.replace("http://","").replace("https://","").replace("www.","").split(/[/?#]/)[0].split(/:/g)[0]};k.editor.detectUrl=function(b){(b=b.match(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/ig))&&"www"==b[0].substr(0,3)&&(b[0]="http://"+b[0]);return b};k.editor.youtubeParser=function(b){return(b=b.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&\?]*).*/))&&11==b[7].length?b[7]:!1};k.editor.getDefaultToolbar=
function(){return[{content:"undo",onclick:function(){document.execCommand("undo")}},{content:"redo",onclick:function(){document.execCommand("redo")}},{type:"divisor"},{content:"format_bold",onclick:function(b,c,a){document.execCommand("bold");document.queryCommandState("bold")?a.classList.add("selected"):a.classList.remove("selected")}},{content:"format_italic",onclick:function(b,c,a){document.execCommand("italic");document.queryCommandState("italic")?a.classList.add("selected"):a.classList.remove("selected")}},
{content:"format_underline",onclick:function(b,c,a){document.execCommand("underline");document.queryCommandState("underline")?a.classList.add("selected"):a.classList.remove("selected")}},{type:"divisor"},{content:"format_list_bulleted",onclick:function(b,c,a){document.execCommand("insertUnorderedList");document.queryCommandState("insertUnorderedList")?a.classList.add("selected"):a.classList.remove("selected")}},{content:"format_list_numbered",onclick:function(b,c,a){document.execCommand("insertOrderedList");
document.queryCommandState("insertOrderedList")?a.classList.add("selected"):a.classList.remove("selected")}},{content:"format_indent_increase",onclick:function(b,c,a){document.execCommand("indent",!0,null);document.queryCommandState("indent")?a.classList.add("selected"):a.classList.remove("selected")}},{content:"format_indent_decrease",onclick:function(){document.execCommand("outdent");document.queryCommandState("outdent")?this.classList.add("selected"):this.classList.remove("selected")}}]};k.files=
function(b){b||console.error("No element defined in the arguments of your method");var c={},a=[];c.data=[];c.get=function(){return c.data};c.getNames=function(e){e=e&&e.folder?e.folder:"/media";for(var d={},h=0;h<a.length;h++)if(a[h]&&"blob:"==a[h].src.substr(0,5)){var l=a[h].src.split("/");d[a[h].src]=e+"/"+l[l.length-1]+"."+a[h].getAttribute("data-extension")}return d};c.updateNames=function(e){e=e&&e.folder?e.folder:"/media";for(var d=0;d<a.length;d++)if(a[d]&&"blob:"==a[d].src.substr(0,5)){var h=
a[d].src.split("/");a[d].src=e+"/"+h[h.length-1]+"."+a[d].getAttribute("data-extension")}};c.remove=function(){var e=b.querySelectorAll(".jfile");if(0<e.length)for(var d=0;d<e.length;d++)e[d].getAttribute("src"),e[d].classList.contains("jremove")&&e[d].remove()};c.set=function(){a=[];c.data=[];var e=b.querySelectorAll(".jfile");if(0<e.length){for(var d=0;d<e.length;d++){var h={},l=e[d].getAttribute("src");e[d].classList.contains("jremove")?h.remove=1:("data:"==l.substr(0,5)?(h.content=l.substr(5),
h.extension=e[d].getAttribute("data-extension")):(h.file=l,h.extension=e[d].getAttribute("data-extension"),h.extension||(h.extension=l.substr(l.lastIndexOf(".")+1)),e[d].content&&(h.content=e[d].content)),e[d].getAttribute("data-name")&&(h.name=e[d].getAttribute("data-name")),e[d].getAttribute("data-file")&&(h.file=e[d].getAttribute("data-file")),e[d].getAttribute("data-size")&&(h.size=e[d].getAttribute("data-size")),e[d].getAttribute("data-date")&&(h.date=e[d].getAttribute("data-date")),e[d].getAttribute("data-cover")&&
(h.cover=e[d].getAttribute("data-cover")));a.push(e[d]);c.data.push(h)}return c.data}};c.set();return c};k.form=function(b,c){var a={options:{}},e={url:null,message:"Are you sure? There are unsaved information in your form",ignore:!1,currentHash:null,submitButton:null,validations:null,onload:null,onbeforesave:null,onsave:null,onerror:function(h,l){k.alert(l)}},d;for(d in e)c&&c.hasOwnProperty(d)?a.options[d]=c[d]:a.options[d]=e[d];a.options.validations||(a.options.validations={});a.options.submitButton||
(a.options.submitButton=b.querySelector("input[type=submit]"));a.options.submitButton&&a.options.url&&(a.options.submitButton.onclick=function(){a.save()});a.options.validations.email||(a.options.validations.email=k.validations.email);a.options.validations.length||(a.options.validations.length=k.validations.length);a.options.validations.required||(a.options.validations.required=k.validations.required);a.setUrl=function(h){a.options.url=h};a.load=function(){k.ajax({url:a.options.url,method:"GET",dataType:"json",
success:function(h){k.form.setElements(b,h);if("function"==typeof a.options.onload)a.options.onload(b,h)}})};a.save=function(){var h=a.validate();if(h)a.options.onerror(b,h);else{var l=k.form.getElements(b,!0);if("function"==typeof a.options.onbeforesave&&(l=a.options.onbeforesave(b,l),!1===l)){console.log("Onbeforesave returned false");return}k.ajax({url:a.options.url,method:"POST",dataType:"json",data:l,success:function(m){if("function"==typeof a.options.onsave)a.options.onsave(b,l,m);a.reset()}})}};
a.validateElement=function(h){var l=!1,m=h.getAttribute("data-validation");if("function"==typeof a.options.validations[m]&&!a.options.validations[m](h.value,h))h.classList.add("error"),a.options.submitButton&&a.options.submitButton.setAttribute("disabled",!0),l=h.getAttribute("data-error")||"There is an error in the form",h.setAttribute("title",l);else if(h.classList.contains("error")){m=!1;h.classList.remove("error");h.removeAttribute("title");h=b.querySelectorAll("input, select, textarea");for(var p=
0;p<h.length;p++)h[p].getAttribute("data-validation")&&h[p].classList.contains("error")&&(m=!0);a.options.submitButton&&(m?a.options.submitButton.setAttribute("disabled",!0):a.options.submitButton.removeAttribute("disabled"))}return l};a.reset=function(){for(var h=b.querySelectorAll("input, select, textarea"),l=0;l<h.length;l++)"INPUT"==h[l].tagName&&"checkbox"==h[l].type?h[l].removeAttribute("checked"):h[l].value=""};a.validate=function(){for(var h=[],l=b.querySelectorAll("input, select, textarea"),
m=0;m<l.length;m++)if(l[m].getAttribute("data-validation")){var p=a.validateElement(l[m]);p&&h.push(p)}return 0<h.length?h.join("<br>"):!1};a.getError=function(){return a.validation()?!0:!1};a.setHash=function(){return a.getHash(k.form.getElements(b))};a.getHash=function(h){var l=0,m;if(0!==h.length)for(m=0;m<h.length;m++){var p=h.charCodeAt(m);l=(l<<5)-l+p;l|=0}return l};a.isChanged=function(){var h=a.setHash();return a.options.currentHash!=h};a.resetTracker=function(){a.options.currentHash=a.setHash();
a.options.ignore=!1};a.reset=function(){a.options.currentHash=a.setHash();a.options.ignore=!1};a.setIgnore=function(h){a.options.ignore=h?!0:!1};setTimeout(function(){a.options.currentHash=a.setHash()},1E3);b.addEventListener("keyup",function(h){h.target.getAttribute("data-validation")&&a.validateElement(h.target)});k.form.hasEvents||(window.addEventListener("beforeunload",function(h){if(a.isChanged()&&0==a.options.ignore){var l=a.options.message?a.options.message:"o/";if(l)return"undefined"==typeof h&&
(h=window.event),h&&(h.returnValue=l),l}}),k.form.hasEvents=!0);return b.form=a};k.form.getElements=function(b,c){for(var a={},e=b.querySelectorAll("input, select, textarea"),d=0;d<e.length;d++){var h=e[d],l=h.name;h=h.value;if(l){if("checkbox"==e[d].type||"radio"==e[d].type)h=e[d].checked;a[l]=h}}return 1==c?a:JSON.stringify(a)};k.form.setElements=function(b,c){for(var a=b.querySelectorAll("input, select, textarea"),e=0;e<a.length;e++){var d=a[e].getAttribute("name"),h=a[e].getAttribute("type");
"checkbox"==h||"radio"==h?c[d]&&(a[e].checked=!0):c[d]&&(a[e].value=c[d])}};k.tracker=k.form;k.focus=function(b){if(b.innerText.length){var c=document.createRange(),a=window.getSelection(),e=b.childNodes[b.childNodes.length-1];c.setStart(e,e.length);c.collapse(!0);a.removeAllRanges();a.addRange(c);b.scrollLeft=b.scrollWidth}};k.isNumeric=function(b){return!isNaN(b)&&null!=b&&""!=b};k.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=16*Math.random()|0;
return("x"==b?c:c&3|8).toString(16)})};k.hash=function(b){var c=0,a;if(0!==b.length)for(a=0;a<b.length;a++){var e=b.charCodeAt(a);32<e&&(c=(c<<5)-c+e,c|=0)}return c};k.randomColor=function(b){var c=String("#"+Math.random().toString(16).slice(2,8).toUpperCase()).replace(/[^0-9a-f]/gi,"");6>c.length&&(c=c[0]+c[0]+c[1]+c[1]+c[2]+c[2]);var a=[],e;for(e=0;3>e;e++){var d=parseInt(c.substr(2*e,2),16);d=Math.round(Math.min(Math.max(0,d+-.25*d),255)).toString(16);a.push(("00"+d).substr(d.length))}return 1==
b?"#"+k.two(color[0].toString(16))+k.two(color[1].toString(16))+k.two(color[2].toString(16)):a};k.getWindowWidth=function(){var b=window,c=document,a=c.documentElement;c=c.getElementsByTagName("body")[0];return b.innerWidth||a.clientWidth||c.clientWidth};k.getWindowHeight=function(){var b=window,c=document,a=c.documentElement;c=c.getElementsByTagName("body")[0];return b.innerHeight||a.clientHeight||c.clientHeight};k.getPosition=function(b){if(b.changedTouches&&b.changedTouches[0]){var c=b.changedTouches[0].pageX;
b=b.changedTouches[0].pageY}else c=window.Event?b.pageX:b.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),b=window.Event?b.pageY:b.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);return[c,b]};k.click=function(b){if(b.click)b.click();else{var c=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});b.dispatchEvent(c)}};k.findElement=function(b,c){function a(d){d&&!e&&("function"==
typeof c?e=c(d):"string"==typeof c&&d.classList&&d.classList.contains(c)&&(e=d));d.parentNode&&!e&&a(d.parentNode)}var e=!1;a(b);return e};k.two=function(b){b=""+b;1==b.length&&(b="0"+b);return b};k.sha512=function(b){function c(y,B){this.highOrder=y;this.lowOrder=B}function a(y,B){var n=(y.lowOrder&65535)+(B.lowOrder&65535);var t=(y.lowOrder>>>16)+(B.lowOrder>>>16)+(n>>>16);var v=(t&65535)<<16|n&65535;n=(y.highOrder&65535)+(B.highOrder&65535)+(t>>>16);t=(y.highOrder>>>16)+(B.highOrder>>>16)+(n>>>
16);return new c((t&65535)<<16|n&65535,v)}function e(y,B,n,t){var v=(y.lowOrder&65535)+(B.lowOrder&65535)+(n.lowOrder&65535)+(t.lowOrder&65535);var D=(y.lowOrder>>>16)+(B.lowOrder>>>16)+(n.lowOrder>>>16)+(t.lowOrder>>>16)+(v>>>16);var H=(D&65535)<<16|v&65535;v=(y.highOrder&65535)+(B.highOrder&65535)+(n.highOrder&65535)+(t.highOrder&65535)+(D>>>16);D=(y.highOrder>>>16)+(B.highOrder>>>16)+(n.highOrder>>>16)+(t.highOrder>>>16)+(v>>>16);return new c((D&65535)<<16|v&65535,H)}function d(y,B,n,t,v){var D=
(y.lowOrder&65535)+(B.lowOrder&65535)+(n.lowOrder&65535)+(t.lowOrder&65535)+(v.lowOrder&65535);var H=(y.lowOrder>>>16)+(B.lowOrder>>>16)+(n.lowOrder>>>16)+(t.lowOrder>>>16)+(v.lowOrder>>>16)+(D>>>16);var M=(H&65535)<<16|D&65535;D=(y.highOrder&65535)+(B.highOrder&65535)+(n.highOrder&65535)+(t.highOrder&65535)+(v.highOrder&65535)+(H>>>16);H=(y.highOrder>>>16)+(B.highOrder>>>16)+(n.highOrder>>>16)+(t.highOrder>>>16)+(v.highOrder>>>16)+(D>>>16);return new c((H&65535)<<16|D&65535,M)}function h(y,B){return 32>=
B?new c(y.highOrder>>>B|y.lowOrder<<32-B,y.lowOrder>>>B|y.highOrder<<32-B):new c(y.lowOrder>>>B|y.highOrder<<32-B,y.highOrder>>>B|y.lowOrder<<32-B)}function l(y){var B=h(y,28),n=h(y,34);y=h(y,39);return new c(B.highOrder^n.highOrder^y.highOrder,B.lowOrder^n.lowOrder^y.lowOrder)}function m(y){var B=h(y,14),n=h(y,18);y=h(y,41);return new c(B.highOrder^n.highOrder^y.highOrder,B.lowOrder^n.lowOrder^y.lowOrder)}function p(y){var B=h(y,1),n=h(y,8);y=g(y,7);return new c(B.highOrder^n.highOrder^y.highOrder,
B.lowOrder^n.lowOrder^y.lowOrder)}function f(y){var B=h(y,19),n=h(y,61);y=g(y,6);return new c(B.highOrder^n.highOrder^y.highOrder,B.lowOrder^n.lowOrder^y.lowOrder)}function g(y,B){return 32>=B?new c(y.highOrder>>>B,y.lowOrder>>>B|y.highOrder<<32-B):new c(0,y.highOrder<<32-B)}var q=[new c(1779033703,4089235720),new c(3144134277,2227873595),new c(1013904242,4271175723),new c(2773480762,1595750129),new c(1359893119,2917565137),new c(2600822924,725511199),new c(528734635,4215389547),new c(1541459225,
327033209)],w=[new c(1116352408,3609767458),new c(1899447441,602891725),new c(3049323471,3964484399),new c(3921009573,2173295548),new c(961987163,4081628472),new c(1508970993,3053834265),new c(2453635748,2937671579),new c(2870763221,3664609560),new c(3624381080,2734883394),new c(310598401,1164996542),new c(607225278,1323610764),new c(1426881987,3590304994),new c(1925078388,4068182383),new c(2162078206,991336113),new c(2614888103,633803317),new c(3248222580,3479774868),new c(3835390401,2666613458),
new c(4022224774,944711139),new c(264347078,2341262773),new c(604807628,2007800933),new c(770255983,1495990901),new c(1249150122,1856431235),new c(1555081692,3175218132),new c(1996064986,2198950837),new c(2554220882,3999719339),new c(2821834349,766784016),new c(2952996808,2566594879),new c(3210313671,3203337956),new c(3336571891,1034457026),new c(3584528711,2466948901),new c(113926993,3758326383),new c(338241895,168717936),new c(666307205,1188179964),new c(773529912,1546045734),new c(1294757372,1522805485),
new c(1396182291,2643833823),new c(1695183700,2343527390),new c(1986661051,1014477480),new c(2177026350,1206759142),new c(2456956037,344077627),new c(2730485921,1290863460),new c(2820302411,3158454273),new c(3259730800,3505952657),new c(3345764771,106217008),new c(3516065817,3606008344),new c(3600352804,1432725776),new c(4094571909,1467031594),new c(275423344,851169720),new c(430227734,3100823752),new c(506948616,1363258195),new c(659060556,3750685593),new c(883997877,3785050280),new c(958139571,
3318307427),new c(1322822218,3812723403),new c(1537002063,2003034995),new c(1747873779,3602036899),new c(1955562222,1575990012),new c(2024104815,1125592928),new c(2227730452,2716904306),new c(2361852424,442776044),new c(2428436474,593698344),new c(2756734187,3733110249),new c(3204031479,2999351573),new c(3329325298,3815920427),new c(3391569614,3928383900),new c(3515267271,566280711),new c(3940187606,3454069534),new c(4118630271,4000239992),new c(116418474,1914138554),new c(174292421,2731055270),new c(289380356,
3203993006),new c(460393269,320620315),new c(685471733,587496836),new c(852142971,1086792851),new c(1017036298,365543100),new c(1126000580,2618297676),new c(1288033470,3409855158),new c(1501505948,4234509866),new c(1607167915,987167468),new c(1816402316,1246189591)],z=Array(64),F;b=unescape(encodeURIComponent(b));var C=8*b.length;b=function(y){for(var B=[],n=8*y.length,t=0;t<n;t+=8)B[t>>5]|=(y.charCodeAt(t/8)&255)<<24-t%32;return B}(b);b[C>>5]|=128<<24-C%32;b[(C+128>>10<<5)+31]=C;for(C=0;C<b.length;C+=
32){var I=q[0];var r=q[1];var x=q[2];var E=q[3];var J=q[4];var u=q[5];var A=q[6];var G=q[7];for(F=0;80>F;F++){z[F]=16>F?new c(b[2*F+C],b[2*F+C+1]):e(f(z[F-2]),z[F-7],p(z[F-15]),z[F-16]);var L=d(G,m(J),new c(J.highOrder&u.highOrder^~J.highOrder&A.highOrder,J.lowOrder&u.lowOrder^~J.lowOrder&A.lowOrder),w[F],z[F]);var K=a(l(I),new c(I.highOrder&r.highOrder^I.highOrder&x.highOrder^r.highOrder&x.highOrder,I.lowOrder&r.lowOrder^I.lowOrder&x.lowOrder^r.lowOrder&x.lowOrder));G=A;A=u;u=J;J=a(E,L);E=x;x=r;
r=I;I=a(L,K)}q[0]=a(I,q[0]);q[1]=a(r,q[1]);q[2]=a(x,q[2]);q[3]=a(E,q[3]);q[4]=a(J,q[4]);q[5]=a(u,q[5]);q[6]=a(A,q[6]);q[7]=a(G,q[7])}b=[];for(C=0;C<q.length;C++)b.push(q[C].highOrder),b.push(q[C].lowOrder);return function(y){for(var B="",n=4*y.length,t,v=0;v<n;v+=1)t=y[v>>2]>>8*(3-v%4),B+="0123456789abcdef".charAt(t>>4&15)+"0123456789abcdef".charAt(t&15);return B}(b)};k.login||(k.login={},k.login.sha512=k.sha512);k.image=function(b,c){var a={options:{}},e={input:!1,minWidth:!1,maxWidth:null,maxHeight:null,
maxJpegSizeBytes:null,onchange:null,singleFile:!0,remoteParser:null,text:{extensionNotAllowed:"The extension is not allowed",imageTooSmall:"The resolution is too low, try a image with a better resolution. width > 800px"}},d;for(d in e)c&&c.hasOwnProperty(d)?a.options[d]=c[d]:a.options[d]=e[d];b.classList.add("jupload");1==a.options.input&&b.classList.add("input");a.addImage=function(l){return k.image.create(l)};a.addImages=function(l){1==a.options.singleFile&&(b.innerHTML="");for(var m=0;m<l.length;m++)b.appendChild(a.addImage(l[m]))};
a.addFromFile=function(l){if("image"==l.type.split("/")[0]){1==a.options.singleFile&&(b.innerHTML="");var m=new FileReader;m.addEventListener("load",function(p){var f=new Image;f.onload=function(){var g=document.createElement("canvas");g.width=f.width;g.height=f.height;g.getContext("2d").drawImage(f,0,0,g.width,g.height);g={file:a.getDataURL(g,l.type),extension:l.name.substr(l.name.lastIndexOf(".")+1),name:l.name,size:l.size,lastmodified:l.lastModified};if("data:"==this.src.substr(0,5)){var q=this.src.split(",");
g.content=q[1]}q=a.addImage(g);b.appendChild(q);if("function"==typeof a.options.onchange)a.options.onchange(q,g)};f.src=p.srcElement.result});m.readAsDataURL(l)}else alert(text.extentionNotAllowed)};a.addFromUrl=function(l){if("data"==l.substr(0,4)||a.options.remoteParser){if("data"==l.substr(0,4)){var m=l.split(";");m=m[0].split("/");m=m[1]}else m=l.substr(l.lastIndexOf(".")+1),l=a.options.remoteParser+l;var p=new Image;p.onload=function(){var f=document.createElement("canvas");f.width=p.width;f.height=
p.height;f.getContext("2d").drawImage(p,0,0,f.width,f.height);f.toBlob(function(g){g={file:window.URL.createObjectURL(g),extension:m};g.content=f.toDataURL();g.content=g.content.split(",");g.content=g.content[1];var q=a.addImage(g);b.appendChild(q);if("function"==typeof a.options.onchange)a.options.onchange(q,g)})};p.src=l}else console.error("remoteParser not defined in your initialization")};a.getCanvas=function(l){var m=document.createElement("canvas"),p=Math.min((a.options.maxWidth||l.width)/l.width,
(a.options.maxHeight||l.height)/l.height,1);m.width=l.width*p;m.height=l.height*p;return m};a.getDataURL=function(l,m){for(var p=.92,f=null,g=l.toDataURL(m,p);a.options.maxJpegSizeBytes&&"image/jpeg"===m&&g.length>a.options.maxJpegSizeBytes&&g.length!==f;)p*=.9,f=g.length,g=l.toDataURL(m,p);return g};var h=document.createElement("input");h.type="file";h.setAttribute("accept","image/*");h.onchange=function(){for(var l=0;l<this.files.length;l++)a.addFromFile(this.files[l])};b.addEventListener("click",
function(l){k.click(h)});b.addEventListener("dragenter",function(l){b.style.border="1px dashed #000"});b.addEventListener("dragleave",function(l){b.style.border="1px solid #eee"});b.addEventListener("dragstop",function(l){b.style.border="1px solid #eee"});b.addEventListener("dragover",function(l){l.preventDefault()});b.addEventListener("drop",function(l){l.preventDefault();l.stopPropagation();var m=(l.originalEvent||l).dataTransfer.getData("text/html");if((l.originalEvent||l).dataTransfer.files.length)for(m=
0;m<l.dataTransfer.files.length;m++)a.addFromFile(l.dataTransfer.files[m]);else if(m&&(1==a.options.singleFile&&(b.innerHTML=""),l=document.createElement("div"),l.innerHTML=m,l=l.querySelectorAll("img"),l.length))for(m=0;m<l.length;m++)a.addFromUrl(l[m].src);b.style.border="1px solid #eee";return!1});return b.image=a};k.image.create=function(b){b.date||(b.date="");var c=document.createElement("img");c.setAttribute("data-date",b.lastmodified?b.lastmodified:b.date);c.setAttribute("data-name",b.name);
c.setAttribute("data-size",b.size);c.setAttribute("data-small",b.small?b.small:"");c.setAttribute("data-cover",b.cover?1:0);c.setAttribute("data-extension",b.extension);c.setAttribute("src",b.file);c.className="jfile";c.style.width="100%";b.content&&(c.content=b.content);return c};k.lazyLoading=function(b,c){c.loadUp&&"function"==typeof c.loadUp||(c.loadUp=function(){return!1});c.loadDown&&"function"==typeof c.loadDown||(c.loadDown=function(){return!1});c.timer||(c.timer=100);var a=null,e=function(d){null==
a&&(d=b.scrollTop,b.scrollTop+2*b.clientHeight>=b.scrollHeight?c.loadDown()&&d==b.scrollTop&&(b.scrollTop-=b.clientHeight):b.scrollTop<=b.clientHeight&&c.loadUp()&&d==b.scrollTop&&(b.scrollTop+=b.clientHeight),a=setTimeout(function(){a=null},c.timer))};b.onscroll=function(d){e(d)};b.onwheel=function(d){e(d)};return{}};k.loading=function(){var b={},c=null;b.show=function(){c||(c=document.createElement("div"),c.className="jloading");document.body.appendChild(c)};b.hide=function(){c&&document.body.removeChild(c)};
return b}();k.mask=function(){var b={},c=0,a=[],e=[];b.run=function(d,h,l){if(d.toString().length&&h.toString().length){"undefined"==typeof l&&(l=".");if(k.isNumeric(d)){var m=(""+d).split(l);d=m[0];m=m[1]}else d=""+d;c=0;a=[];b.prepare(h);if(d)for(h=0;h<d.length;h++)null!=d[h]&&b.process(d[h]);if(m&&(b.process(l),d=m))for(h=0;h<d.length;h++)null!=d[h]&&b.process(d[h]);return a.join("")}return""};b.apply=function(d){if(d.target&&!d.target.getAttribute("readonly")){var h=d.target.getAttribute("data-mask");
if(h&&2>d.key.length){c=0;a=[];b.prepare(h);h="";"DIV"==d.target.tagName?d.target.innerText&&(h=(h=window.getSelection())&&h.anchorOffset!=h.focusOffset?d.target.innerText.substring(0,h.anchorOffset>h.focusOffset?h.focusOffset:h.anchorOffset):d.target.innerText):h=d.target.selectionStart<d.target.selectionEnd?d.target.value.substring(0,d.target.selectionStart):d.target.value;if(h)for(var l=0;l<h.length;l++)null!=h[l]&&b.process(h[l]);b.process(b.fromKeyCode(d));d.preventDefault();h=a.join("");"DIV"==
d.target.tagName?h!=d.target.innerText&&(d.target.innerText=h,k.focus(d.target)):d.target.value=h;e.length==a.length&&e[e.length-1].length==a[a.length-1].length?d.target.setAttribute("data-completed","true"):d.target.setAttribute("data-completed","false")}}};b.process=function(d){do{if("mm"==e[c])return null==a[c]||""==a[c]?1<parseInt(d)&&10>parseInt(d)?(a[c]="0"+d,c++,!0):10>parseInt(d)?(a[c]=d,!0):!1:1==a[c]&&2>a[c]&&3>parseInt(d)||0==a[c]&&10>a[c]?(a[c]+=d,c++,!0):!1;if("dd"==e[c])return null==
a[c]||""==a[c]?3<parseInt(d)&&10>parseInt(d)?(a[c]="0"+d,c++,!0):10>parseInt(d)?(a[c]=d,!0):!1:3==a[c]&&2>parseInt(d)||3>a[c]&&10>parseInt(d)?(a[c]+=d,c++,!0):!1;if("hh24"==e[c])return null==a[c]||""==a[c]?2<parseInt(d)&&10>parseInt(d)?(a[c]="0"+d,c++,!0):10>parseInt(d)?(a[c]=d,!0):!1:2==a[c]&&4>parseInt(d)||2>a[c]&&10>parseInt(d)?(a[c]+=d,c++,!0):!1;if("hh"==e[c])return null==a[c]||""==a[c]?1<parseInt(d)&&10>parseInt(d)?(a[c]="0"+d,c++,!0):10>parseInt(d)?(a[c]=d,!0):!1:1==a[c]&&3>parseInt(d)||1>
a[c]&&10>parseInt(d)?(a[c]+=d,c++,!0):!1;if("mi"==e[c]||"ss"==e[c])return null==a[c]||""==a[c]?5<parseInt(d)&&10>parseInt(d)?(a[c]="0"+d,c++,!0):10>parseInt(d)?(a[c]=d,!0):!1:10>parseInt(d)?(a[c]+=d,c++,!0):!1;if("yy"==e[c]||"yyyy"==e[c])return 10>parseInt(d)?(a[c]=null==a[c]||""==a[c]?d:a[c]+d,a[c].length==e[c].length&&c++,!0):!1;if("#"==e[c]||"#.##"==e[c]||"#,##"==e[c]||"# ##"==e[c]||"#'##"==e[c]){if(d.match(/[0-9]/g)){var h="#.##"==e[c]?".":"#,##"==e[c]?",":"# ##"==e[c]?" ":"#'##"==e[c]?"'":"";
if(null==a[c]||""==a[c])a[c]=d;else if(a[c]+=d,h){a[c]=a[c].match(/[0-9]/g).join("");d=[];for(var l=0,m=a[c].length-1;0<=m;m--)d.push(a[c][m]),l++,l%3||d.push(h);d=d.reverse();a[c]=d.join("");a[c].substr(0,1)==h&&(a[c]=a[c].substr(1))}return!0}if(!("#.##"==e[c]&&"."==d||"#,##"==e[c]&&","==d||"# ##"==e[c]&&" "==d||"#'##"==e[c]&&"'"==d)&&a[c]&&(c++,e[c])){if(e[c]==d)return a[c]=d,!0;if("0"==e[c]&&e[c+1]==d)return c++,a[c]=d,!0}return!1}if("0"==e[c])return d.match(/[0-9]/g)?(a[c]=d,c++,!0):!1;if("a"==
e[c])return d.match(/[a-zA-Z]/g)?(a[c]=d,c++,!0):!1;if(null!=e[c]&&(h="\\a"==e[c]?"a":"\\0"==e[c]?"0":"[-]"==e[c]?"-"==d||"+"==d?d:" ":e[c],a[c]=h,d==h))return c++,!0;c++}while(e[c])};b.prepare=function(d){e=[];for(var h=0;h<d.length;h++)d[h].match(/[0-9]|[a-z]|\\/g)?"y"==d[h]&&"y"==d[h+1]&&"y"==d[h+2]&&"y"==d[h+3]?(e.push("yyyy"),h+=3):"y"==d[h]&&"y"==d[h+1]?(e.push("yy"),h++):"m"==d[h]&&"m"==d[h+1]&&"m"==d[h+2]&&"m"==d[h+3]?(e.push("mmmm"),h+=3):"m"==d[h]&&"m"==d[h+1]&&"m"==d[h+2]?(e.push("mmm"),
h+=2):"m"==d[h]&&"m"==d[h+1]?(e.push("mm"),h++):"d"==d[h]&&"d"==d[h+1]?(e.push("dd"),h++):"h"==d[h]&&"h"==d[h+1]&&"2"==d[h+2]&&"4"==d[h+3]?(e.push("hh24"),h+=3):"h"==d[h]&&"h"==d[h+1]?(e.push("hh"),h++):"m"==d[h]&&"i"==d[h+1]?(e.push("mi"),h++):"s"==d[h]&&"s"==d[h+1]?(e.push("ss"),h++):"a"==d[h]&&"m"==d[h+1]?(e.push("am"),h++):"p"==d[h]&&"m"==d[h+1]?(e.push("pm"),h++):"\\"==d[h]&&"0"==d[h+1]?(e.push("\\0"),h++):"\\"==d[h]&&"a"==d[h+1]?(e.push("\\a"),h++):e.push(d[h]):"#"==d[h]&&"."==d[h+1]&&"#"==
d[h+2]&&"#"==d[h+3]?(e.push("#.##"),h+=3):"#"==d[h]&&","==d[h+1]&&"#"==d[h+2]&&"#"==d[h+3]?(e.push("#,##"),h+=3):"#"==d[h]&&" "==d[h+1]&&"#"==d[h+2]&&"#"==d[h+3]?(e.push("# ##"),h+=3):"#"==d[h]&&"'"==d[h+1]&&"#"==d[h+2]&&"#"==d[h+3]?(e.push("#'##"),h+=3):"["==d[h]&&"-"==d[h+1]&&"]"==d[h+2]?(e.push("[-]"),h+=2):e.push(d[h])};b.fromKeyCode=function(d){var h={188:"44",109:"45",190:"46",191:"47",192:"96",220:"92",222:"39",221:"93",219:"91",173:"45",187:"61",186:"59",189:"45"},l={96:"~",49:"!",50:"@",
51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"},m=d.which;h.hasOwnProperty(m)&&(m=h[m]);return m=!d.shiftKey&&65<=m&&90>=m?String.fromCharCode(m+32):d.shiftKey&&l.hasOwnProperty(m)?l[m]:96<=m&&105>=m?String.fromCharCode(m-48):String.fromCharCode(m)};"undefined"!==typeof document&&document.addEventListener("keydown",function(d){k.mask&&k.mask.apply(d)});return b}();k.modal=function(b,c){var a={options:{}},e={url:null,onopen:null,
onclose:null,closed:!1,width:null,height:null,title:null,padding:null},d;for(d in e)c&&c.hasOwnProperty(d)?a.options[d]=c[d]:a.options[d]=e[d];!a.options.title&&b.getAttribute("title")&&(a.options.title=b.getAttribute("title"));for(e=document.createElement("div");b.children[0];)e.appendChild(b.children[0]);a.content=document.createElement("div");a.content.className="jmodal_content";for(a.content.innerHTML=b.innerHTML;e.children[0];)a.content.appendChild(e.children[0]);a.container=document.createElement("div");
a.container.className="jmodal";a.container.appendChild(a.content);a.options.padding&&(a.content.style.padding=a.options.padding);a.options.width&&(a.container.style.width=a.options.width);a.options.height&&(a.container.style.height=a.options.height);a.options.title?a.container.setAttribute("title",a.options.title):a.container.classList.add("no-title");b.innerHTML="";b.style.display="none";b.appendChild(a.container);var h=document.createElement("div");h.className="jmodal_backdrop";h.onclick=function(){a.close()};
b.appendChild(h);a.open=function(){b.style.display="block";var l=a.container.getBoundingClientRect();k.getWindowWidth()<l.width?(a.container.style.top="",a.container.style.left="",a.container.classList.add("jmodal_fullscreen"),k.animation.slideBottom(a.container,1)):h.style.display="block";k.modal.current=a;if("function"==typeof a.options.onopen)a.options.onopen(b,a)};a.resetPosition=function(){a.container.style.top="";a.container.style.left=""};a.isOpen=function(){return"none"!=b.style.display?!0:
!1};a.close=function(){b.style.display="none";h.style.display="";k.modal.current=null;a.container.classList.remove("jmodal_fullscreen");if("function"==typeof a.options.onclose)a.options.onclose(b,a)};k.modal.hasEvents||(k.modal.current=a,!0==="ontouchstart"in document.documentElement?document.addEventListener("touchstart",k.modal.mouseDownControls):(document.addEventListener("mousedown",k.modal.mouseDownControls),document.addEventListener("mousemove",k.modal.mouseMoveControls),document.addEventListener("mouseup",
k.modal.mouseUpControls)),document.addEventListener("keydown",k.modal.keyDownControls),k.modal.hasEvents=!0);a.options.url?k.ajax({url:a.options.url,method:"GET",dataType:"text/html",success:function(l){a.content.innerHTML=l;a.options.closed||a.open()}}):a.options.closed||a.open();return b.modal=a};k.modal.current=null;k.modal.position=null;k.modal.keyDownControls=function(b){27==b.which&&k.modal.current&&k.modal.current.close()};k.modal.mouseUpControls=function(b){k.modal.current&&(k.modal.current.container.style.cursor=
"auto");k.modal.position=null};k.modal.mouseMoveControls=function(b){if(k.modal.current&&k.modal.position)if(1==b.which||3==b.which){var c=k.modal.position;k.modal.current.container.style.top=c[1]+(b.clientY-c[3])+c[5]/2+"px";k.modal.current.container.style.left=c[0]+(b.clientX-c[2])+c[4]/2+"px";k.modal.current.container.style.cursor="move"}else k.modal.current.container.style.cursor="auto"};k.modal.mouseDownControls=function(b){k.modal.position=[];b.target.classList.contains("jmodal")&&setTimeout(function(){var c=
b.target.getBoundingClientRect();if(b.changedTouches&&b.changedTouches[0])var a=b.changedTouches[0].clientX,e=b.changedTouches[0].clientY;else a=b.clientX,e=b.clientY;50>c.width-(a-c.left)&&50>e-c.top?setTimeout(function(){k.modal.current.close()},100):b.target.getAttribute("title")&&50>e-c.top&&(document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),k.modal.position=[c.left,c.top,b.clientX,b.clientY,c.width,c.height])},100)};k.notification=function(b){var c=
{options:{}},a={icon:null,name:"Notification",date:null,error:null,title:null,message:null,timeout:4E3,autoHide:!0,closeable:!0};for(d in a)b&&b.hasOwnProperty(d)?c.options[d]=b[d]:c.options[d]=a[d];var e=document.createElement("div");e.className="jnotification";c.options.error&&e.classList.add("jnotification-error");b=document.createElement("div");b.className="jnotification-container";e.appendChild(b);a=document.createElement("div");a.className="jnotification-header";b.appendChild(a);var d=document.createElement("div");
d.className="jnotification-image";a.appendChild(d);if(c.options.icon){var h=document.createElement("img");h.src=c.options.icon;d.appendChild(h)}d=document.createElement("div");d.className="jnotification-name";d.innerHTML=c.options.name;a.appendChild(d);1==c.options.closeable&&(d=document.createElement("div"),d.className="jnotification-close",d.onclick=function(){c.hide()},a.appendChild(d));d=document.createElement("div");d.className="jnotification-date";a.appendChild(d);a=document.createElement("div");
a.className="jnotification-content";b.appendChild(a);c.options.title&&(b=document.createElement("div"),b.className="jnotification-title",b.innerHTML=c.options.title,a.appendChild(b));b=document.createElement("div");b.className="jnotification-message";b.innerHTML=c.options.message;a.appendChild(b);c.show=function(){document.body.appendChild(e);800<k.getWindowWidth()?k.animation.fadeIn(e):k.animation.slideTop(e,1)};c.hide=function(){800<k.getWindowWidth()?k.animation.fadeOut(e,function(){e.parentNode&&
(e.parentNode.removeChild(e),l&&clearTimeout(l))}):k.animation.slideTop(e,0,function(){e.parentNode&&(e.parentNode.removeChild(e),l&&clearTimeout(l))})};c.show();if(1==c.options.autoHide)var l=setTimeout(function(){c.hide()},c.options.timeout);800>k.getWindowWidth()&&e.addEventListener("swipeup",function(m){c.hide();m.preventDefault();m.stopPropagation()});return c};k.notification.isVisible=function(){var b=document.querySelector(".jnotification");return b&&b.parentNode?!0:!1};k.palette=function(b){var c=
{material:["#ffebee #fce4ec #f3e5f5 #e8eaf6 #e3f2fd #e0f7fa #e0f2f1 #e8f5e9 #f1f8e9 #f9fbe7 #fffde7 #fff8e1 #fff3e0 #fbe9e7 #efebe9 #fafafa #eceff1".split(" "),"#ffcdd2 #f8bbd0 #e1bee7 #c5cae9 #bbdefb #b2ebf2 #b2dfdb #c8e6c9 #dcedc8 #f0f4c3 #fff9c4 #ffecb3 #ffe0b2 #ffccbc #d7ccc8 #f5f5f5 #cfd8dc".split(" "),"#ef9a9a #f48fb1 #ce93d8 #9fa8da #90caf9 #80deea #80cbc4 #a5d6a7 #c5e1a5 #e6ee9c #fff59d #ffe082 #ffcc80 #ffab91 #bcaaa4 #eeeeee #b0bec5".split(" "),"#e57373 #f06292 #ba68c8 #7986cb #64b5f6 #4dd0e1 #4db6ac #81c784 #aed581 #dce775 #fff176 #ffd54f #ffb74d #ff8a65 #a1887f #e0e0e0 #90a4ae".split(" "),
"#ef5350 #ec407a #ab47bc #5c6bc0 #42a5f5 #26c6da #26a69a #66bb6a #9ccc65 #d4e157 #ffee58 #ffca28 #ffa726 #ff7043 #8d6e63 #bdbdbd #78909c".split(" "),"#f44336 #e91e63 #9c27b0 #3f51b5 #2196f3 #00bcd4 #009688 #4caf50 #8bc34a #cddc39 #ffeb3b #ffc107 #ff9800 #ff5722 #795548 #9e9e9e #607d8b".split(" "),"#e53935 #d81b60 #8e24aa #3949ab #1e88e5 #00acc1 #00897b #43a047 #7cb342 #c0ca33 #fdd835 #ffb300 #fb8c00 #f4511e #6d4c41 #757575 #546e7a".split(" "),"#d32f2f #c2185b #7b1fa2 #303f9f #1976d2 #0097a7 #00796b #388e3c #689f38 #afb42b #fbc02d #ffa000 #f57c00 #e64a19 #5d4037 #616161 #455a64".split(" "),
"#c62828 #ad1457 #6a1b9a #283593 #1565c0 #00838f #00695c #2e7d32 #558b2f #9e9d24 #f9a825 #ff8f00 #ef6c00 #d84315 #4e342e #424242 #37474f".split(" "),"#b71c1c #880e4f #4a148c #1a237e #0d47a1 #006064 #004d40 #1b5e20 #33691e #827717 #f57f17 #ff6f00 #e65100 #bf360c #3e2723 #212121 #263238".split(" ")],fire:["0b1a6d 840f38 b60718 de030b ff0c0c fd491c fc7521 faa331 fbb535 ffc73a".split(" "),"071147 5f0b28 930513 be0309 ef0000 fa3403 fb670b f9991b faad1e ffc123".split(" "),"03071e 370617 6a040f 9d0208 d00000 dc2f02 e85d04 f48c06 faa307 ffba08".split(" "),
"020619 320615 61040d 8c0207 bc0000 c82a02 d05203 db7f06 e19405 efab00".split(" "),"020515 2d0513 58040c 7f0206 aa0000 b62602 b94903 c57205 ca8504 d89b00".split(" ")],baby:["eddcd2 fff1e6 fde2e4 fad2e1 c5dedd dbe7e4 f0efeb d6e2e9 bcd4e6 99c1de".split(" "),"e1c4b3 ffd5b5 fab6ba f5a8c4 aacecd bfd5cf dbd9d0 baceda 9dc0db 7eb1d5".split(" "),"daa990 ffb787 f88e95 f282a9 8fc4c3 a3c8be cec9b3 9dbcce 82acd2 649dcb".split(" "),"d69070 ff9c5e f66770 f05f8f 74bbb9 87bfae c5b993 83aac3 699bca 4d89c2".split(" "),
"c97d5d f58443 eb4d57 e54a7b 66a9a7 78ae9c b5a67e 7599b1 5c88b7 4978aa".split(" ")]};return c[b]?c[b]:c.material};k.picker=function(b,c){var a={options:{}},e={value:null,data:null,render:null,onchange:null,width:null,header:!0,right:!1,content:!1},d;for(d in e)c&&c.hasOwnProperty(d)?a.options[d]=c[d]:a.options[d]=e[d];c.options&&(a.options.data=c.options);null===a.options.value&&(a.options.value=Object.keys(a.options.data)[0]);var h=null,l=null;b.classList.add("jpicker");b.setAttribute("tabindex",
"900");a.init=function(){h=document.createElement("div");h.classList.add("jpicker-header");!1===a.options.header&&(h.style.display="none");a.options.width&&(h.style.width=parseInt(a.options.width)+"px");h.innerHTML=a.options.value&&a.options.data[a.options.value]?a.options.data[a.options.value]:"<div><br/></div>";l=document.createElement("div");l.classList.add("jpicker-content");b.appendChild(h);b.appendChild(l);for(var m=Object.keys(a.options.data),p=0;p<m.length;p++){var f=document.createElement("div");
f.k=m[p];f.v=a.options.data[m[p]];f.innerHTML=a.getLabel(m[p]);f.onclick=function(){a.setValue(this.k);if("function"==typeof a.options.onchange)a.options.onchange(b,a,this.v,this.k)};l.appendChild(f)}a.setValue(a.options.value)};a.setValue=function(m){m=a.options.content?'<i class="material-icons">'+a.options.content+"</i>":a.getLabel(m);h.innerHTML=m;a.options.value=m;if(b.value!=a.options.value&&(b.value=a.options.value,"function"==typeof b.onchange))b.onchange({type:"change",target:b,value:b.value})};
a.getLabel=function(m){m=a.options.data[m];"function"==typeof a.options.render&&(m=a.options.render(m));return m};a.open=function(){b.classList.add("jpicker-focus");b.focus();var m=h.getBoundingClientRect(),p=l.getBoundingClientRect();l.style.marginTop=window.innerHeight<m.bottom+p.height?-1*(p.height+4)+"px":m.height+2+"px";!0===a.options.right&&(l.style.marginLeft=-1*p.width+24+"px")};b.onclick=function(){b.classList.contains("jpicker-focus")?b.classList.remove("jpicker-focus"):a.open()};b.onblur=
function(){setTimeout(function(){b.classList.remove("jpicker-focus")},250)};a.init();b.change=a.setValue;return b.picker=a};k.progressbar=function(b,c){var a={options:{}},e={value:0,onchange:null,width:null},d;for(d in e)c&&c.hasOwnProperty(d)?a.options[d]=c[d]:a.options[d]=e[d];b.classList.add("jprogressbar");b.setAttribute("tabindex",1);b.setAttribute("data-value",a.options.value);var h=document.createElement("div");h.style.width=a.options.value+"%";h.style.color="#fff";b.appendChild(h);a.options.width&&
(b.style.width=a.options.width);a.setValue=function(l){l=parseInt(l);a.options.value=l;h.style.width=l+"%";b.setAttribute("data-value",l+"%");b.style.color=6>l?"#000":"#fff";a.options.value=l;if("function"==typeof a.options.onchange)a.options.onchange(b,l);if(b.value!=a.options.value&&(b.value=a.options.value,"function"==typeof b.onchange))b.onchange({type:"change",target:b,value:b.value})};a.getValue=function(){return a.options.value};e=function(l){if(l.which){var m=b.getBoundingClientRect();a.setValue(Math.round(((l.changedTouches&&
l.changedTouches[0]?l.changedTouches[0].clientX:l.clientX)-m.left)/m.width*100))}};!0==="touchstart"in document.documentElement?(b.addEventListener("touchstart",e),b.addEventListener("touchend",e)):(b.addEventListener("mousedown",e),b.addEventListener("mousemove",e));b.change=a.setValue;return b.progressbar=a};k.rating=function(b,c){if(b.classList.contains("jrating"))return b.rating.setOptions(c);var a={options:{},setOptions:function(e){var d={number:5,value:0,tooltip:["Very bad","Bad","Average",
"Good","Very good"],onchange:null},h;for(h in d)e&&e.hasOwnProperty(h)?a.options[h]=e[h]:a.options[h]=d[h];b.innerHTML="";for(e=0;e<a.options.number;e++)d=document.createElement("div"),d.setAttribute("data-index",e+1),d.setAttribute("title",a.options.tooltip[e]),b.appendChild(d);if(a.options.value)for(e=0;e<a.options.number;e++)e<a.options.value&&b.children[e].classList.add("jrating-selected")},setValue:function(e){for(var d=0;d<a.options.number;d++)d<e?b.children[d].classList.add("jrating-selected"):
(b.children[d].classList.remove("jrating-over"),b.children[d].classList.remove("jrating-selected"));a.options.value=e;if("function"==typeof a.options.onchange)a.options.onchange(b,e);if(b.value!=a.options.value&&(b.value=a.options.value,"function"==typeof b.onchange))b.onchange({type:"change",target:b,value:b.value})},getValue:function(){return a.options.value}};(function(){a.setOptions(c);b.classList.add("jrating");b.addEventListener("click",function(e){e=e.target.getAttribute("data-index");void 0!=
e&&(e==a.options.value?a.setValue(0):a.setValue(e))});b.addEventListener("mouseover",function(e){e=e.target.getAttribute("data-index");for(var d=0;d<a.options.number;d++)d<e?b.children[d].classList.add("jrating-over"):b.children[d].classList.remove("jrating-over")});b.addEventListener("mouseout",function(e){for(e=0;e<a.options.number;e++)b.children[e].classList.remove("jrating-over")});b.change=a.setValue;b.rating=a})();return a};k.slider=function(b,c){var a={options:{},currentImage:null};c&&(a.options=
c);a.options.items=[];if(b.classList.contains("jslider"))e=b.querySelector("slider-container");else{b.classList.add("jslider");var e=document.createElement("div");e.className="jslider-container";if(0<b.children.length)for(var d=0;d<b.children.length;d++)a.options.items.push(b.children[d]);if(0<a.options.items.length)for(d=0;d<a.options.items.length;d++){a.options.items[d].classList.add("jfile");var h=a.options.items[d].src.lastIndexOf("/");0>h?a.options.items[d].setAttribute("data-name",a.options.items[d].src):
a.options.items[d].setAttribute("data-name",a.options.items[d].src.substr(h+1));h=a.options.items[d].src.lastIndexOf("/");e.appendChild(a.options.items[d])}b.appendChild(e);var l=document.createElement("div");l.className="jslider-close";l.innerHTML="";l.onclick=function(){a.close()};b.appendChild(l)}a.show=function(f){f||(f=e.children[0]);e.classList.contains("jslider-preview")||(e.classList.add("jslider-preview"),l.style.display="block");for(var g=0;g<e.children.length;g++)e.children[g].style.display=
"none";f.style.display="block";f.previousSibling?e.classList.add("jslider-left"):e.classList.remove("jslider-left");f.nextSibling?e.classList.add("jslider-right"):e.classList.remove("jslider-right");a.currentImage=f};a.open=function(){a.show();if("function"==typeof a.options.onopen)a.options.onopen(b)};a.close=function(){e.classList.remove("jslider-preview");e.classList.remove("jslider-left");e.classList.remove("jslider-right");for(var f=0;f<e.children.length;f++)e.children[f].style.display="";l.style.display=
"";a.currentImage=null;if("function"==typeof a.options.onclose)a.options.onclose(b)};a.reset=function(){e.innerHTML=""};a.addFile=function(f,g){var q=document.createElement("img");q.setAttribute("data-lastmodified",f.lastmodified);q.setAttribute("data-name",f.name);q.setAttribute("data-size",f.size);q.setAttribute("data-extension",f.extension);q.setAttribute("data-cover",f.cover);q.setAttribute("src",f.file);q.className="jfile";e.appendChild(q);a.options.items.push(q);if(!g&&"function"==typeof a.options.onchange)a.options.onchange(b,
f)};a.addFiles=function(f){for(var g=0;g<f.length;g++)a.addFile(f[g])};a.next=function(){a.currentImage.nextSibling&&a.show(a.currentImage.nextSibling)};a.prev=function(){a.currentImage.previousSibling&&a.show(a.currentImage.previousSibling)};a.getData=function(){return k.files(e).get()};if(a.options.data&&a.options.data.length)for(d=0;d<a.options.data.length;d++)a.options.data[d]&&a.addFile(a.options.data[d]);if(a.options.allowAttachment){var m=document.createElement("input");m.type="file";m.className=
"slider-attachment";m.setAttribute("accept","image/*");m.style.display="none";m.onchange=function(){for(var f=[],g=0;g<this.files.length;g++)if("image"==this.files[g].type.split("/")[0]){var q=this.files[g].name;q=q.split(".");q=q[q.length-1];var w={size:this.files[g].size,name:this.files[g].name,extension:q,cover:0,lastmodified:this.files[g].lastModified};f[g]=new FileReader;f[g].addEventListener("load",function(z){w.file=z.target.result;a.addFile(w)},!1);f[g].readAsDataURL(this.files[g])}else alert("The extension is not allowed")};
d=document.createElement("i");d.innerHTML="attachment";d.className="jslider-attach material-icons";d.onclick=function(){k.click(m)};b.appendChild(m);b.appendChild(d)}var p=null;d=function(f){"IMG"==f.target.tagName&&(p=setTimeout(function(){"data"==f.target.src.substr(0,4)?f.target.remove():f.target.classList.contains("jremove")?f.target.classList.remove("jremove"):f.target.classList.add("jremove");if("function"==typeof a.options.onchange)a.options.onchange(b,f.target)},1E3))};h=function(f){p&&clearTimeout(p);
"IMG"==f.target.tagName?f.target.classList.contains("jremove")||a.show(f.target):40>f.target.clientWidth-f.offsetX?a.next():40>f.offsetX&&a.prev()};e.addEventListener("mousedown",d);e.addEventListener("touchstart",d);e.addEventListener("mouseup",h);e.addEventListener("touchend",h);b.addEventListener("swipeleft",function(f){a.next();f.preventDefault();f.stopPropagation()});b.addEventListener("swiperight",function(f){a.prev();f.preventDefault();f.stopPropagation()});k.slider.hasEvents||(document.addEventListener("keydown",
function(f){27==f.which&&a.close()}),k.slider.hasEvents=!0);return b.slider=a};k.sorting=function(b,c){var a={};var e={pointer:null,direction:null,ondragstart:null,ondragend:null,ondrop:null},d=null,h;for(h in e)c&&c.hasOwnProperty(h)?a[h]=c[h]:a[h]=e[h];b.classList.add("jsorting");b.addEventListener("dragstart",function(m){var p=Array.prototype.indexOf.call(m.target.parentNode.children,m.target);d={element:m.target,o:p,d:p};m.target.style.opacity="0.25";if("function"==typeof a.ondragstart)a.ondragstart(b,
m.target,m)});b.addEventListener("dragover",function(m){m.preventDefault();l(m.target)&&d&&"true"==m.target.getAttribute("draggable")&&d.element!=m.target&&((a.direction?m.target.clientWidth/2>m.offsetX:m.target.clientHeight/2>m.offsetY)?m.target.parentNode.insertBefore(d.element,m.target):m.target.parentNode.insertBefore(d.element,m.target.nextSibling),d.d=Array.prototype.indexOf.call(m.target.parentNode.children,d.element))});b.addEventListener("dragleave",function(m){m.preventDefault()});b.addEventListener("dragend",
function(m){m.preventDefault();if(d){if("function"==typeof a.ondragend)a.ondragend(b,d.element,m);d.o<d.d?m.target.parentNode.insertBefore(d.element,m.target.parentNode.children[d.o]):m.target.parentNode.insertBefore(d.element,m.target.parentNode.children[d.o].nextSibling);d.element.style.opacity="";d=null}});b.addEventListener("drop",function(m){m.preventDefault();if(d&&d.o!=d.d&&"function"==typeof a.ondrop)a.ondrop(b,d.o,d.d,d.element,m.target,m);d.element.style.opacity="";d=null});var l=function(m){function p(g){g.className&&
g.classList.contains("jsorting")&&(f=!0);f||p(g.parentNode)}var f=!1;p(m);return f};for(e=0;e<b.children.length;e++)b.children[e].hasAttribute("draggable")||b.children[e].setAttribute("draggable","true");return b};k.tabs=function(b,c){var a={options:{}},e={data:[],position:null,allowCreate:!1,allowChangePosition:!1,onclick:null,onload:null,onchange:null,oncreate:null,ondelete:null,onbeforecreate:null,onchangeposition:null,animation:!1,hideHeaders:!1,padding:null};for(p in e)c&&c.hasOwnProperty(p)?
a.options[p]=c[p]:a.options[p]=e[p];b.classList.add("jtabs");var d=null,h=null,l=null,m=function(f){"function"==typeof a.headers.scrollTo?a.headers.scrollTo({left:f,behavior:"smooth"}):a.headers.scrollLeft=f;1>=f?d.classList.add("disabled"):d.classList.remove("disabled");f>=a.headers.scrollWidth-a.headers.offsetWidth?h.classList.add("disabled"):h.classList.remove("disabled");a.headers.scrollWidth<=a.headers.offsetWidth?(d.style.display="none",h.style.display="none"):(d.style.display="",h.style.display=
"")};a.open=function(f){for(var g=null,q=0;q<a.headers.children.length;q++)a.headers.children[q].classList.contains("jtabs-selected")&&(g=q),a.headers.children[q].classList.remove("jtabs-selected"),a.content.children[q]&&a.content.children[q].classList.remove("jtabs-selected");a.headers.children[f].classList.add("jtabs-selected");a.content.children[f]&&a.content.children[f].classList.add("jtabs-selected");if(g!=f&&"function"==typeof a.options.onchange&&a.content.children[f])a.options.onchange(b,a,
f,a.headers.children[f],a.content.children[f]);if(1==a.options.hideHeaders&&3>a.headers.children.length&&0==a.options.allowCreate)a.headers.parentNode.style.display="none";else{a.headers.parentNode.style.display="";1==a.options.animation&&(g=a.headers.children[f].getBoundingClientRect(),l.style.width=g.width+"px",l.style.left=a.headers.children[f].offsetLeft+"px",l.style.bottom="0px");g=a.headers.children[f].offsetLeft;f=g+a.headers.children[f].offsetWidth;q=a.headers.scrollLeft;var w=q+a.headers.offsetWidth;
q<=g&&w>=f||m(g-1)}};a.selectIndex=function(f){f=Array.prototype.indexOf.call(a.headers.children,f);0<=f&&a.open(f);return f};a.rename=function(f,g){g||(g=prompt("New title",a.headers.children[f].innerText));a.headers.children[f].innerText=g;a.open(f)};a.create=function(f,g){if("function"==typeof a.options.onbeforecreate){var q=a.options.onbeforecreate(b);if(!1===q)return!1;f=q}q=a.appendElement(f);if("function"==typeof a.options.oncreate)a.options.oncreate(b,q);return q};a.remove=function(f){return a.deleteElement(f)};
a.nextNumber=function(){for(var f=0,g=0;g<a.headers.children.length;g++){var q=a.headers.children[g].innerText.match(/[0-9].*/);q>f&&(f=parseInt(q))}f?f++:f=1;return f};a.deleteElement=function(f){if(a.headers.children[f])a.headers.removeChild(a.headers.children[f]),a.content.removeChild(a.content.children[f]);else return!1;a.open(0);if("function"==typeof a.options.ondelete)a.options.ondelete(b,f)};a.appendElement=function(f){f||(f=prompt("Title?",""));if(f){var g=document.createElement("div");a.content.appendChild(g);
var q=document.createElement("div");q.innerHTML=f;q.content=g;a.headers.insertBefore(q,a.headers.lastChild);a.options.allowChangePosition&&q.setAttribute("draggable","true");a.selectIndex(q);return g}};a.getActive=function(){for(var f=0;f<a.headers.children.length;f++)if(a.headers.children[f].classList.contains("jtabs-selected"))return f;return 0};a.updatePosition=function(f,g){f>g?a.content.insertBefore(a.content.children[f],a.content.children[g]):a.content.insertBefore(a.content.children[f],a.content.children[g].nextSibling);
a.open(g);if("function"==typeof a.options.onchangeposition)a.options.onchangeposition(a.headers,f,g)};a.move=function(f,g){f>g?a.headers.insertBefore(a.headers.children[f],a.headers.children[g]):a.headers.insertBefore(a.headers.children[f],a.headers.children[g].nextSibling);a.updatePosition(f,g)};a.init=function(){b.innerHTML="";a.headers=document.createElement("div");a.content=document.createElement("div");a.headers.classList.add("jtabs-headers");a.content.classList.add("jtabs-content");a.options.padding&&
(a.content.style.padding=parseInt(a.options.padding)+"px");var f=document.createElement("div");f.className="jtabs-headers-container";f.appendChild(a.headers);var g=document.createElement("div");g.className="jtabs-controls";g.setAttribute("draggable","false");f.appendChild(g);"bottom"==a.options.position?(b.appendChild(a.content),b.appendChild(f)):(b.appendChild(f),b.appendChild(a.content));1==a.options.allowCreate&&(f=document.createElement("div"),f.className="jtabs-add",f.onclick=function(){a.create()},
g.appendChild(f));d=document.createElement("div");d.className="jtabs-prev";d.onclick=function(){m(a.headers.scrollLeft-a.headers.offsetWidth)};g.appendChild(d);h=document.createElement("div");h.className="jtabs-next";h.onclick=function(){m(a.headers.scrollLeft+a.headers.offsetWidth)};g.appendChild(h);for(g=0;g<a.options.data.length;g++){f=a.options.data[g].titleElement?a.options.data[g].titleElement:document.createElement("div");if(a.options.data[g].icon){var q=document.createElement("div"),w=document.createElement("i");
w.classList.add("material-icons");w.innerHTML=a.options.data[g].icon;q.appendChild(w);f.appendChild(q)}a.options.data[g].title&&(q=document.createTextNode(a.options.data[g].title),f.appendChild(q));a.options.data[g].width&&(f.style.width=a.options.data[g].width);a.options.data[g].contentElement?q=a.options.data[g].contentElement:(q=document.createElement("div"),q.innerHTML=a.options.data[g].content);a.headers.appendChild(f);a.content.appendChild(q)}l=document.createElement("div");l.className="jtabs-border";
a.headers.appendChild(l);a.options.animation&&b.classList.add("jtabs-animation");a.headers.addEventListener("click",function(z){z=z.target.parentNode.classList.contains("jtabs-headers")?z.target:"I"==z.target.tagName?z.target.parentNode.parentNode:z.target.parentNode;z=a.selectIndex(z);if("function"==typeof a.options.onclick)a.options.onclick(b,a,z,a.headers.children[z],a.content.children[z])});a.headers.addEventListener("contextmenu",function(z){a.selectIndex(z.target)});a.headers.children.length&&
a.open(0);m(0);1==a.options.allowChangePosition&&k.sorting(a.headers,{direction:1,ondrop:function(z,F,C){a.updatePosition(F,C)}});if("function"==typeof a.options.onload)a.options.onload(b,a)};if(b.children[0]&&b.children[0].children.length)for(e=0;e<b.children[0].children.length;e++){var p=a.options.data&&a.options.data[e]?a.options.data[e]:{};b.children[1]&&b.children[1].children[e]?(p.titleElement=b.children[0].children[e],p.contentElement=b.children[1].children[e]):p.contentElement=b.children[0].children[e];
a.options.data[e]=p}p=!1;if(a.options.data)for(e=0;e<a.options.data.length;e++)a.options.data[e].url&&(k.ajax({url:a.options.data[e].url,type:"GET",dataType:"text/html",index:e,success:function(f){a.options.data[this.index].content=f},complete:function(){a.init()}}),p=!0);p||a.init();return b.tabs=a};k.tags=function(b,c){if(b.classList.contains("jtags"))return b.tags.setOptions(c);var a={options:{}},e=null,d=null,h=0,l=0;a.setOptions=function(r){var x={value:null,limit:null,limitMessage:"The limit of entries is: ",
search:null,placeholder:null,validation:null,onbeforechange:null,onchange:null,onfocus:null,onblur:null,onload:null,colors:null},E;for(E in x)r&&r.hasOwnProperty(E)?a.options[E]=r[E]:a.options[E]=x[E];a.options.placeholder?b.setAttribute("data-placeholder",a.options.placeholder):b.removeAttribute("data-placeholder");b.placeholder=a.options.placeholder;a.options.value&&a.options.value!=b.value&&a.setValue(a.options.value)};a.add=function(r,x){if("function"==typeof a.options.onbeforechange){var E=a.options.onbeforechange(b,
a,r);null!=E&&(r=E)}e&&(e.style.display="");if(0<a.options.limit&&b.children.length>=a.options.limit)alert(a.options.limitMessage+" "+a.options.limit);else{E=f();if(r&&"string"!=typeof r){E&&E.parentNode.classList.contains("jtags")&&(E.innerText.replace("\n","")||b.removeChild(E));for(var J=0;J<=r.length;J++)if(!a.options.limit||b.children.length<a.options.limit){A=document.createElement("div");if(r[J]&&"string"!=typeof r[J])u=r[J].text,E=r[J].value;else{var u=r[J]||"";(E=u)||(u="<br>")}A.innerHTML=
u;A.setAttribute("data-value",E);b.appendChild(A)}}else{var A=document.createElement("div");A.innerHTML=r?r:"<br>";A.setAttribute("data-value",r);E&&E.parentNode.classList.contains("jtags")?b.insertBefore(A,E.nextSibling):b.appendChild(A)}x&&setTimeout(function(){k.focus(A)},0);p();m()}};a.remove=function(r){r.parentNode.removeChild(r);b.children.length||a.add("")};a.getData=function(){for(var r=[],x=0;x<b.children.length;x++){var E=b.children[x].innerText.replace("\n",""),J=b.children[x].getAttribute("data-value");
J||(J=E);(E||J)&&r.push({text:E,value:J})}return r};a.getValue=function(r){var x;if(null!=r)(x=b.children[r].getAttribute("data-value"))||(x=b.children[r].innerText.replace("\n",""));else{r=[];for(var E=0;E<b.children.length;E++)(x=b.children[E].innerText.replace("\n",""))&&r.push(a.getValue(E));x=r.join(",")}return x};a.setValue=function(r){if(r)if(Array.isArray(r))a.add(r);else{r=(""+r).trim();var x=[],E="";if(r=r.trim()){for(var J=0;J<r.length;J++)","==r[J]||";"==r[J]||"\n"==r[J]?E&&(x.push(E.trim()),
E=""):E+=r[J];E&&x.push(E)}b.innerHTML="";a.add(x)}else a.reset()};a.reset=function(){b.classList.add("jtags-empty");b.innerHTML="<div><br></div>";m()};a.isValid=function(){for(var r=0,x=0;x<b.children.length;x++)b.children[x].classList.contains("jtags_error")&&r++;return 0==r?!0:!1};a.selectIndex=function(r){d="";var x=f();x.innerText=r.getAttribute("data-text");r.getAttribute("data-value")&&x.setAttribute("data-value",r.getAttribute("data-value"));e&&(e.style.display="",e.innerHTML="");x.classList.remove("jtags_error");
a.add("",!0)};a.search=function(r){if(!e){var x=document.createElement("div");x.style.position="relative";b.parentNode.insertBefore(x,b.nextSibling);e=document.createElement("div");e.classList.add("jtags_search");x.appendChild(e);x=function(G){G=G.target.classList.contains("jtags_search_item")?G.target:G.target.parentNode;a.selectIndex(G)};!0==="touchstart"in document.documentElement?e.addEventListener("touchstart",x):e.addEventListener("mousedown",x)}x=r.innerText;if(x!=d)if(d=x,h=0,Array.isArray(a.options.search)){r=
[];for(var E=0;E<a.options.search.length&&10>=r.length;)a.options.search[E].includes(d)&&r.push(a.options.search[E]),E++;e.innerHTML="";if(r.length){e.style.display="block";var J=11>r.length?r.length:10;for(E=0;E<J;E++){if("string"===typeof r[E]){var u=r[E];var A=r[E]}else u=r[1].text,A=r[1].value;x=document.createElement("div");x.setAttribute("data-value",A);x.setAttribute("data-text",u);x.className="jtags_search_item";0==E&&x.classList.add("selected");A=document.createElement("div");A.innerHTML=
u;x.appendChild(A);e.appendChild(x)}}else e.style.display=""}else k.ajax({url:a.options.search+d,method:"GET",dataType:"json",success:function(G){e.innerHTML="";if(G.length){e.style.display="block";for(var L=11>G.length?G.length:10,K=0;K<L;K++){var y=G[K].text;!y&&G[K].name&&(y=G[K].name);var B=G[K].value;!B&&G[K].id&&(B=G[K].id);var n=document.createElement("div");n.setAttribute("data-value",B);n.setAttribute("data-text",y);n.className="jtags_search_item";0==K&&n.classList.add("selected");B=document.createElement("img");
G[K].image?B.src=G[K].image:B.style.display="none";n.appendChild(B);B=document.createElement("div");B.innerHTML=y;n.appendChild(B);e.appendChild(n)}}else e.style.display=""}})};a.destroy=function(){b.removeEventListener("mouseup",F);b.removeEventListener("keydown",q);b.removeEventListener("keyup",w);b.removeEventListener("paste",z);b.removeEventListener("focus",C);b.removeEventListener("blur",I);b.parentNode.removeChild(b)};var m=function(){a.options.value=a.getValue();if("function"==typeof a.options.onchange)a.options.onchange(b,
a,a.options.value);if(b.value!=a.options.value&&(b.value=a.options.value,"function"==typeof b.onchange))b.onchange({type:"change",target:b,value:b.value})},p=function(){for(var r=0;r<b.children.length;r++)a.getValue(r)?(b.children[r].classList.add("jtags_label"),"function"==typeof a.options.validation&&(a.getValue(r)?a.options.validation(b.children[r],b.children[r].innerText,b.children[r].getAttribute("data-value"))?b.children[r].classList.remove("jtags_error"):b.children[r].classList.add("jtags_error"):
b.children[r].classList.remove("jtags_error"))):b.children[r].classList.remove("jtags_label")},f=function(){var r=document.getSelection().anchorNode;return r?3==r.nodeType?r.parentNode:r:null},g=0,q=function(r){g=window.getSelection().anchorOffset;if(!b.children.length){var x=document.createElement("div");x.innerHTML="<div><br/></div>";b.appendChild(x)}"Tab"===r.key||";"===r.key||","===r.key?(x=window.getSelection().anchorOffset,1<x&&(!a.options.limit||b.children.length<a.options.limit)&&a.add("",
!0),r.preventDefault()):"Enter"==r.key?(e&&""!=e.style.display?a.selectIndex(e.children[h]):(x=window.getSelection().anchorOffset,1<x&&(!a.options.limit||b.children.length<a.options.limit)&&a.add("",!0)),r.preventDefault()):"ArrowUp"===r.key?e&&""!=e.style.display&&(e.children[h].classList.remove("selected"),0<h&&h--,e.children[h].classList.add("selected"),r.preventDefault()):"ArrowDown"===r.key?e&&""!=e.style.display&&(e.children[h].classList.remove("selected"),9>h&&h++,e.children[h].classList.add("selected"),
r.preventDefault()):"Backspace"==r.key&&1==b.children.length&&1>window.getSelection().anchorOffset&&r.preventDefault()},w=function(r){if(39==r.which)r=window.getSelection().anchorOffset,1<r&&r==g&&a.add("",!0);else if(13==r.which||38==r.which||40==r.which)r.preventDefault();else if(8==r.which)b.innerHTML||a.add("",!0),r.preventDefault();else if(46==r.which){if(!b.children.length){var x=document.createElement("div");x.innerHTML="<div><br/></div>";b.appendChild(x)}r.preventDefault()}else l&&clearTimeout(l),
l=setTimeout(function(){var E=document.getSelection().anchorNode;(E=3==E.nodeType?E.parentNode:E)&&a.options.search&&a.search(E);l=null},300);p()},z=function(r){if(r.clipboardData||r.originalEvent.clipboardData){(r.originalEvent||r).clipboardData.getData("text/html");var x=(r.originalEvent||r).clipboardData.getData("text/plain")}else window.clipboardData&&(window.clipboardData.getData("Html"),x=window.clipboardData.getData("Text"));a.setValue(x);r.preventDefault()},F=function(r){if(r.target.parentNode&&
r.target.parentNode.classList.contains("jtags")&&(r.target.classList.contains("jtags_label")||r.target.classList.contains("jtags_error"))){var x=r.target.getBoundingClientRect();16>x.width-(r.clientX-x.left)&&a.remove(r.target)}e&&(e.style.display="")},C=function(r){if(!b.children.length||a.getValue(b.children.length-1))if(!a.options.limit||b.children.length<a.options.limit)r=document.createElement("div"),r.innerHTML="<br>",b.appendChild(r);if("function"==typeof a.options.onfocus)a.options.onfocus(b,
a,a.getValue());b.classList.add("jtags-focus")},I=function(r){e&&setTimeout(function(){e.style.display=""},200);for(r=0;r<b.children.length-1;r++)a.getValue(r)||b.removeChild(b.children[r]);if("function"==typeof a.options.onblur)a.options.onblur(b,a,a.getValue());m();b.classList.remove("jtags-focus");b.children[0].innerText.trim()?b.classList.remove("jtags-empty"):b.classList.add("jtags-empty")};a.setOptions(c);a.setValue(a.options.value);!0==="touchend"in document.documentElement?b.addEventListener("touchend",
F):b.addEventListener("mouseup",F);b.addEventListener("keydown",q);b.addEventListener("keyup",w);b.addEventListener("paste",z);b.addEventListener("focus",C);b.addEventListener("blur",I);b.classList.add("jtags");b.setAttribute("contenteditable",!0);b.setAttribute("spellcheck",!1);if("function"==typeof a.options.onload)a.options.onload(b,a);b.change=a.setValue;return b.tags=a};k.toolbar=function(b,c){var a={options:{}},e={app:null,container:!1,badge:!1,title:!1,items:[]},d;for(d in e)c&&c.hasOwnProperty(d)?
a.options[d]=c[d]:a.options[d]=e[d];!b&&c.app&&c.app.el&&(b=document.createElement("div"),c.app.el.appendChild(b));var h=document.createElement("div");h.classList.add("jtoolbar-item");h.classList.add("jtoolbar-arrow");e=document.createElement("div");e.classList.add("jtoolbar-floating");h.appendChild(e);a.selectItem=function(p){for(var f=m.children,g=0;g<f.length;g++)p!=f[g]&&f[g].classList.remove("jtoolbar-selected");p.classList.add("jtoolbar-selected")};a.hide=function(){k.animation.slideBottom(b,
0,function(){b.style.display="none"})};a.show=function(){b.style.display="";k.animation.slideBottom(b,1)};a.get=function(){return b};a.setBadge=function(p,f){m.children[p].children[1].firstChild.innerHTML=f};a.destroy=function(){toolbar.remove();b.innerHTML=""};var l=function(){this.classList.contains("jtoolbar-active")?this.classList.remove("jtoolbar-active"):this.classList.add("jtoolbar-active")};a.create=function(p){m.innerHTML="";for(var f=0;f<p.length;f++){var g=document.createElement("div");
g.classList.add("jtoolbar-item");p[f].width&&(g.style.width=parseInt(p[f].width)+"px");p[f].k&&(g.k=p[f].k);p[f].tooltip&&g.setAttribute("title",p[f].tooltip);p[f].id&&g.setAttribute("id",p[f].id);p[f].state&&(g.toggleState=l);p[f].active&&g.classList.add("jtoolbar-active");if("select"==p[f].type||"dropdown"==p[f].type)"function"==typeof p[f].onchange&&(p[f].onchange=function(F){return function(C,I,r,x){F(b,a,C,r,x)}}(p[f].onchange)),k.picker(g,p[f]);else if("divisor"==p[f].type)g.classList.add("jtoolbar-divisor");
else if("label"==p[f].type)g.classList.add("jtoolbar-label"),g.innerHTML=p[f].content;else{var q=document.createElement("i");if("undefined"===typeof p[f]["class"])q.classList.add("material-icons");else for(var w=p[f]["class"].split(" "),z=0;z<w.length;z++)q.classList.add(w[z]);q.innerHTML=p[f].content?p[f].content:"";g.appendChild(q);1==a.options.badge&&(q=document.createElement("div"),q.classList.add("jbadge"),w=document.createElement("div"),w.innerHTML=p[f].badge?p[f].badge:"",q.appendChild(w),
g.appendChild(q));p[f].title&&(1==a.options.title?(q=document.createElement("span"),q.innerHTML=p[f].title,g.appendChild(q)):g.setAttribute("title",p[f].title));a.options.app&&p[f].route&&(g.route=p[f].route,g.onclick=function(){a.options.app.pages(this.route)},a.options.app.pages(p[f].route,{toolbarItem:g,closed:!0}))}p[f].onclick&&(g.onclick=function(F){return function(){p[F].onclick(b,a,this)}}(f));m.appendChild(g)}};a.resize=function(){b.style.width=b.parentNode.offsetWidth;m.appendChild(h)};
b.classList.add("jtoolbar");1==a.options.container&&b.classList.add("jtoolbar-container");b.innerHTML="";b.onclick=function(p){var f=k.findElement(p.target,"jtoolbar-item");f&&a.selectItem(f);p.target.classList.contains("jtoolbar-arrow")&&(p.target.classList.add("jtoolbar-arrow-selected"),p.target.children[0].focus())};var m=document.createElement("div");b.appendChild(m);a.options.app&&b.classList.add("jtoolbar-mobile");a.create(a.options.items);return b.toolbar=a};k.validations={};k.validations.email=
function(b){var c=new RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/);return b&&c.test(b)?!0:!1};k.validations.length=function(b,c){var a=c.getAttribute("data-length")||5;return b.length>=a?!0:!1};k.validations.required=function(b){return b.trim()?!0:!1};k.validations.number=function(b){return k.isNumber(b)};return k});